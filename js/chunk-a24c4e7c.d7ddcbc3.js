(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a24c4e7c"],{"3fa3":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h3",[t._v("Tension")]),t._m(0),i("b-card",[t.cardActive?i("b-form-input",{attrs:{placeholder:"Name"},model:{value:t.item["ve:name"],callback:function(e){t.$set(t.item,"ve:name",e)},expression:"item['ve:name']"}}):t._e(),i("b-form-input",{ref:"title",attrs:{placeholder:t.text_placeholder},on:{click:function(e){t.inputFocus=!0},blur:function(e){t.inputFocus=!1}},model:{value:t.item["ve:wi"],callback:function(e){t.$set(t.item,"ve:wi",e)},expression:"item['ve:wi']"}}),t.cardActive?i("b-form-input",{attrs:{placeholder:"What should be ?"},model:{value:t.item["ve:wsb"],callback:function(e){t.$set(t.item,"ve:wsb",e)},expression:"item['ve:wsb']"}}):t._e(),t.cardActive?i("b-form-textarea",{attrs:{id:"textarea",placeholder:"Your proposition...",rows:"3","max-rows":"6"},model:{value:t.item["ve:proposition"],callback:function(e){t.$set(t.item,"ve:proposition",e)},expression:"item['ve:proposition']"}}):t._e(),t.cardActive?i("vue-tags-input",{attrs:{tags:t.tags,"autocomplete-items":t.autocompleteTagsItems},on:{"tags-changed":t.update},model:{value:t.tag,callback:function(e){t.tag=e},expression:"tag"}}):t._e(),t.cardActive?i("div",[t._v(" Priority / Age / Status "),i("b-form-input",{attrs:{type:"number"},model:{value:t.item["ve:age"],callback:function(e){t.$set(t.item,"ve:age",e)},expression:"item['ve:age']"}})],1):t._e(),t.cardActive?i("b-button",{attrs:{size:"sm",variant:"light"},on:{click:t.clean}},[t._v("Cancel")]):t._e(),t.cardActive?i("b-button",{attrs:{variant:"info"},on:{click:t.add}},[t._v("Save")]):t._e()],1),t._v(" "+t._s(t.items.length)+" "),i("b-row",[i("Items",{attrs:{items:t.items}})],1),t._v(" "+t._s(t.items)+" ")],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v(" Dans un système basique, chacun doit pouvoir faire remonter ses idées, ou ses problèmes de manière simple. "),i("br"),t._v(" La solution envisagée ici est inspirée du système de Tension en holacratie. "),i("br"),i("ul",[i("li",[t._v("Un titre")]),i("li",[t._v("Un description de ce qui est à l'heure actuelle.")]),i("li",[t._v("Une description de ce qui devrait être.")]),i("li",[t._v("Un proposition pour passer de ce qui est à ce qui devrait être.")])])])}],a=i("1da1"),o=(i("96cf"),i("d3b7"),i("3ca3"),i("ddb0"),i("ac1f"),i("1276"),i("841c"),i("d81d"),i("466d"),i("a4d3"),i("e01a"),i("c46f")),c="https://www.wikidata.org/w/api.php?action=wbsearchentities&origin=*&format=json",r={name:"Tension",components:{VueTagsInput:function(){return i.e("chunk-2d217c19").then(i.t.bind(null,"c7a0",7))},Items:function(){return i.e("chunk-ccb0e492").then(i.bind(null,"9426"))}},data:function(){return{tag:"",tags:[],autocompleteTagsItems:[],debounce:null,item:null,inputFocus:!1,cardActive:!1,text_placeholder:"What should be different ?",share:!0,checked1:!0}},created:function(){this.init(),this.language=navigator.language.split("-")[0]||"en",this.initForm(this.$route.query)},methods:{init:function(){this.item=this.$store.state.local.currentItem||{"@context":{"@vocab":"https://www.w3.org/ns/activitystreams",ve:"https://scenaristeur.github.io/verse/","@id":"id","@type":"type"},"ve:name":"","ve:wi":"","ve:wsb":"","ve:proposition":"","ve:tags":"","ve:age":0,"ve:privacy":"private","ve:type":"item","ve:properties":[],test:"test vocab"}},add:function(){var t=this.item;t.share=this.share,t.type="tension",this.$store.dispatch("local/saveItem",t),this.clean(),this.$store.dispatch("local/getItems",{type:"tension"})},clean:function(){this.init(),this.cardActive=!1,this.text_placeholder="Signal a tension",this.tags=[]},initForm:function(t){if(console.log("init",t),void 0!=t.title||void 0!=t.wi||void 0!=t.wsb||void 0!=t.proposition){var e={"ve:name":t.title||"","ve:wi":t.wi||"","ve:wsb":t.wsb||"","ve:proposition":t.proposition||"","ve:age":t.age||""};this.tags=void 0!=t.tags?JSON.parse(t.tags):"",this.cardActive=!0,this.item=e,console.log("item init",this.item),void 0==this.topic&&(this.topic="default")}},update:function(t){this.autocompleteTagsItems=[],this.tags=t},getTags:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var s,n,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!(t.length>0)){i.next=21;break}return e.loading=!0,s=c+"&language="+e.language+"&search="+t,console.log(s),i.prev=4,i.next=7,fetch(s);case 7:return n=i.sent,i.next=10,n.json();case 10:a=i.sent,console.log(a),e.tags_items=a.search,console.log(e.tags_items),e.autocompleteTagsItems=a.search.map((function(t){return{text:t.match.text+" ("+t.description+")",url:t.concepturi}})),i.next=20;break;case 17:i.prev=17,i.t0=i["catch"](4),alert(i.t0);case 20:e.loading=!1;case 21:case"end":return i.stop()}}),i,null,[[4,17]])})))()}},watch:{tag:o["a"].debounce((function(t){this.getTags(t)}),500),tags:function(){console.log(this.tags),this.item["ve:tags"]=this.tags},$route:function(t){this.initForm(t.query)},inputFocus:function(){1==this.inputFocus&&(this.cardActive=!0,this.text_placeholder="What is ?",this.$refs.title.focus())},currentNote:function(){this.tension=this.currentTension,this.tags=this.currentTension.tags,this.cardActive=!0,this.$refs.title.focus()}},computed:{pod:function(){return this.$store.state.solid.pod},items:{get:function(){return this.$store.state.local.items},set:function(){}}}},u=r,l=(i("d482"),i("2877")),p=Object(l["a"])(u,s,n,!1,null,null,null);e["default"]=p.exports},"8bfd":function(t,e,i){},d482:function(t,e,i){"use strict";i("8bfd")}}]);
//# sourceMappingURL=chunk-a24c4e7c.d7ddcbc3.js.map