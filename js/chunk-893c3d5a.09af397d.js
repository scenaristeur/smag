(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-893c3d5a"],{"0538":function(t,e,n){"use strict";var r=n("da84"),o=n("e330"),i=n("59ed"),s=n("861d"),a=n("1a2d"),c=n("f36a"),u=r.Function,f=o([].concat),l=o([].join),h={},p=function(t,e,n){if(!a(h,e)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";h[e]=u("C,a","return new C("+l(r,",")+")")}return h[e](t,n)};t.exports=u.bind||function(t){var e=i(this),n=e.prototype,r=c(arguments,1),o=function(){var n=f(r,c(arguments));return this instanceof o?p(e,n.length,n):e.apply(t,n)};return s(n)&&(o.prototype=n),o}},"25f0":function(t,e,n){"use strict";var r=n("e330"),o=n("5e77").PROPER,i=n("6eeb"),s=n("825a"),a=n("3a9b"),c=n("577e"),u=n("d039"),f=n("ad6d"),l="toString",h=RegExp.prototype,p=h[l],d=r(f),v=u((function(){return"/a/b"!=p.call({source:"a",flags:"b"})})),y=o&&p.name!=l;(v||y)&&i(RegExp.prototype,l,(function(){var t=s(this),e=c(t.source),n=t.flags,r=c(void 0===n&&a(h,t)&&!("flags"in h)?d(t):n);return"/"+e+"/"+r}),{unsafe:!0})},"2d0d":function(t,e,n){n("4ae1"),n("d3b7"),n("f8c9");var r=n("36c6"),o=n("6f8f"),i=n("6b58");function s(t){var e=o();return function(){var n,o=r(t);if(e){var s=r(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return i(this,n)}}t.exports=s,t.exports["default"]=t.exports,t.exports.__esModule=!0},3410:function(t,e,n){var r=n("23e7"),o=n("d039"),i=n("7b0b"),s=n("e163"),a=n("e177"),c=o((function(){s(1)}));r({target:"Object",stat:!0,forced:c,sham:!a},{getPrototypeOf:function(t){return s(i(t))}})},"36c6":function(t,e,n){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports["default"]=t.exports,t.exports.__esModule=!0,r(e)}n("3410"),t.exports=r,t.exports["default"]=t.exports,t.exports.__esModule=!0},"3c96":function(t,e){function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}t.exports=n,t.exports["default"]=t.exports,t.exports.__esModule=!0},"3ec8":function(t,e,n){var r=n("970b").default,o=n("ed6d").default,i=n("2d0d").default,s=n("a73c"),a=function(t){"use strict";o(n,t);var e=i(n);function n(t){var o;return r(this,n),o=e.call(this,t),console.log(o.data),o}return n}(s);t.exports=a},"4a4b":function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports["default"]=t.exports,t.exports.__esModule=!0,n(e,r)}t.exports=n,t.exports["default"]=t.exports,t.exports.__esModule=!0},"4ae1":function(t,e,n){var r=n("23e7"),o=n("d066"),i=n("2ba4"),s=n("0538"),a=n("5087"),c=n("825a"),u=n("861d"),f=n("7c73"),l=n("d039"),h=o("Reflect","construct"),p=Object.prototype,d=[].push,v=l((function(){function t(){}return!(h((function(){}),[],t)instanceof t)})),y=!l((function(){h((function(){}))})),m=v||y;r({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(t,e){a(t),c(e);var n=arguments.length<3?t:a(arguments[2]);if(y&&!v)return h(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return i(d,r,e),new(i(s,t,r))}var o=n.prototype,l=f(u(o)?o:p),m=i(t,l,e);return u(m)?m:l}})},"4de4":function(t,e,n){"use strict";var r=n("23e7"),o=n("b727").filter,i=n("1dde"),s=i("filter");r({target:"Array",proto:!0,forced:!s},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"5bc3":function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}t.exports=r,t.exports["default"]=t.exports,t.exports.__esModule=!0},"6a7a":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v(" sma"),n("br"),n("b-button",{on:{click:t.boardTest}},[t._v("boardTest")]),t._v(" Agents : "),n("ul",t._l(t.agents,(function(e){return n("li",{key:e.id},[t._v(" "+t._s(JSON.stringify(e,null,2))+" ")])})),0)],1)},o=[],i=n("fd1f"),s=n("3ec8"),a=(n("e9c4"),n("b0c7"));function c(t){a["Agent"].call(this,t),this.extend("request"),this.count=0,this.connect(a["system"].transports.getAll())}c.prototype=Object.create(a["Agent"].prototype),c.prototype.constructor=c,c.prototype.sayHello=function(t){this.send(t,"Hello "+t+"!")},c.prototype.receive=function(t,e){if(console.log(t+" said: "+JSON.stringify(e)),"string"==typeof e&&0===e.indexOf("Hello"))return this.send(t,"Hi "+t+", nice to meet you!"),"Hi "+t+", Here is the answer of your request!"};var u={name:"Sma",data:function(){return{observables:[]}},created:function(){this.agent1=new c("agent1"),this.agent2=new c("agent2"),console.log(this.agent1),this.agent2.send("agent1","Hello agent1!, a basic send"),this.agent2.request("agent1","Hello agent1! a request").then((function(t){console.log("reply: "+t)})),this.env=new i({name:"env",store:this.$store,type:"Vue2",vue:this}),console.log(this.env),this.board=new s({name:"board"}),this.board.print(),this.acteur=new s({name:"user"}),this.acteur.print(),this.acteur.log("yohoho, hello i'm the principal actor!");var t=new s({name:"fictif 1"});console.log("fictif 1",t);var e=window.env.getAgents();console.log(e)},methods:{boardTest:function(){this.acteur.send("board",{action:"put",content:{text:"hello",world:"world"}}),this.acteur.send("board",{action:"read"})}},watch:{},computed:{agents:function(){return this.$store.state.sma.agents}}},f=u,l=n("2877"),h=Object(l["a"])(f,r,o,!1,null,null,null);e["default"]=h.exports},"6b58":function(t,e,n){var r=n("7037")["default"],o=n("3c96");function i(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)}t.exports=i,t.exports["default"]=t.exports,t.exports.__esModule=!0},"6f8f":function(t,e,n){function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}n("d3b7"),n("f8c9"),n("4ae1"),t.exports=r,t.exports["default"]=t.exports,t.exports.__esModule=!0},7037:function(t,e,n){function r(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(t.exports=r=function(t){return typeof t},t.exports["default"]=t.exports,t.exports.__esModule=!0):(t.exports=r=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports["default"]=t.exports,t.exports.__esModule=!0),r(e)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),t.exports=r,t.exports["default"]=t.exports,t.exports.__esModule=!0},"970b":function(t,e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.exports=n,t.exports["default"]=t.exports,t.exports.__esModule=!0},a73c:function(t,e,n){var r=n("c973").default,o=n("970b").default,i=n("5bc3").default;n("96cf"),n("b0c0"),n("d3b7"),n("25f0"),n("e9c4");var s=n("11c1"),a=s.v4,c={"@context":{"@vocab":"https://www.w3.org/ns/activitystreams",as:"https://www.w3.org/ns/activitystreams",ve:"https://scenaristeur.github.io/verse/","@id":"id","@type":"type"},"ve:name":"",type:"agent","ve:age":-1,"ve:properties":[],"ve:tags":""},u=function(){"use strict";function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t),this.options=e,void 0==this.id&&(this.id=a()),this.name=this.options.name||this.id,this.data=c,this.data["as:created"]=Date.now(),1==e.debug&&this.debug(),void 0!=window.env?window.env.pushAgent(this):console.log("can not add to env",this)}return i(t,[{key:"save",value:function(t){console.log("saving",t),window.env.save(t)}},{key:"send",value:function(t,e){var n={id:this.id,name:this.name};console.log("SEND","from",n,"to",t,e)}},{key:"debug",value:function(){console.log("--- DEBUG --- props : ",this.options),console.log("--- DEBUG --- data : ",this.data)}},{key:"print",value:function(){console.log("--printing props : ",this.options,this.data)}},{key:"log",value:function(t){console.log("-----log--- ",t)}},{key:"wait",value:function(){var t=r(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=this.options.name,setTimeout((function(){e+=" "+r,n(e)}),3e3);case 2:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"alert",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){alert(JSON.stringify(this.data,null,2))}))}]),t}();t.exports=u},b0c7:function(t,e,n){(function(e){var n;(function(e){t.exports=e()})((function(){var t;return function(){function t(e,r,o){function i(a,c){if(!r[a]){if(!e[a]){var u="function"==typeof n&&n;if(!c&&u)return n(a,!0);if(s)return s(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var l=r[a]={exports:{}};e[a][0].call(l.exports,(function(t){var n=e[a][1][t];return i(n||t)}),l,l.exports,t,e,r,o)}return r[a].exports}for(var s="function"==typeof n&&n,a=0;a<o.length;a++)i(o[a]);return i}return t}()({1:[function(t,e,n){var r,o,i=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}function u(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{return o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(function(){try{r="function"===typeof setTimeout?setTimeout:s}catch(t){r=s}try{o="function"===typeof clearTimeout?clearTimeout:a}catch(t){o=a}})();var f,l=[],h=!1,p=-1;function d(){h&&f&&(h=!1,f.length?l=f.concat(l):p=-1,l.length&&v())}function v(){if(!h){var t=c(d);h=!0;var e=l.length;while(e){f=l,l=[];while(++p<e)f&&f[p].run();p=-1,e=l.length}f=null,h=!1,u(t)}}function y(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new y(t,e)),1!==l.length||h||c(v)},y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(n,r,o){(function(e){(function(){(function(n){var i="object"==typeof o&&o&&!o.nodeType&&o,s="object"==typeof r&&r&&!r.nodeType&&r,a="object"==typeof e&&e;a.global!==a&&a.window!==a&&a.self!==a||(n=a);var c,u,f=2147483647,l=36,h=1,p=26,d=38,v=700,y=72,m=128,g="-",w=/^xn--/,b=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=l-h,j=Math.floor,O=String.fromCharCode;function T(t){throw new RangeError(C[t])}function E(t,e){var n=t.length,r=[];while(n--)r[n]=e(t[n]);return r}function F(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(x,".");var o=t.split("."),i=E(o,e).join(".");return r+i}function k(t){var e,n,r=[],o=0,i=t.length;while(o<i)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function A(t){return E(t,(function(t){var e="";return t>65535&&(t-=65536,e+=O(t>>>10&1023|55296),t=56320|1023&t),e+=O(t),e})).join("")}function S(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:l}function M(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function R(t,e,n){var r=0;for(t=n?j(t/v):t>>1,t+=j(t/e);t>_*p>>1;r+=l)t=j(t/_);return j(r+(_+1)*t/(t+d))}function I(t){var e,n,r,o,i,s,a,c,u,d,v=[],w=t.length,b=0,x=m,C=y;for(n=t.lastIndexOf(g),n<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&T("not-basic"),v.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<w;){for(i=b,s=1,a=l;;a+=l){if(o>=w&&T("invalid-input"),c=S(t.charCodeAt(o++)),(c>=l||c>j((f-b)/s))&&T("overflow"),b+=c*s,u=a<=C?h:a>=C+p?p:a-C,c<u)break;d=l-u,s>j(f/d)&&T("overflow"),s*=d}e=v.length+1,C=R(b-i,e,0==i),j(b/e)>f-x&&T("overflow"),x+=j(b/e),b%=e,v.splice(b++,0,x)}return A(v)}function N(t){var e,n,r,o,i,s,a,c,u,d,v,w,b,x,C,_=[];for(t=k(t),w=t.length,e=m,n=0,i=y,s=0;s<w;++s)v=t[s],v<128&&_.push(O(v));r=o=_.length,o&&_.push(g);while(r<w){for(a=f,s=0;s<w;++s)v=t[s],v>=e&&v<a&&(a=v);for(b=r+1,a-e>j((f-n)/b)&&T("overflow"),n+=(a-e)*b,e=a,s=0;s<w;++s)if(v=t[s],v<e&&++n>f&&T("overflow"),v==e){for(c=n,u=l;;u+=l){if(d=u<=i?h:u>=i+p?p:u-i,c<d)break;C=c-d,x=l-d,_.push(O(M(d+C%x,0))),c=j(C/x)}_.push(O(M(c,0))),i=R(n,b,r==o),n=0,++r}++n,++e}return _.join("")}function q(t){return F(t,(function(t){return w.test(t)?I(t.slice(4).toLowerCase()):t}))}function P(t){return F(t,(function(t){return b.test(t)?"xn--"+N(t):t}))}if(c={version:"1.4.1",ucs2:{decode:k,encode:A},decode:I,encode:N,toASCII:P,toUnicode:q},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",(function(){return c}));else if(i&&s)if(r.exports==i)s.exports=c;else for(u in c)c.hasOwnProperty(u)&&(i[u]=c[u]);else n.punycode=c})(this)}).call(this)}).call(this,"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],3:[function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,i){e=e||"&",n=n||"=";var s={};if("string"!==typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var c=1e3;i&&"number"===typeof i.maxKeys&&(c=i.maxKeys);var u=t.length;c>0&&u>c&&(u=c);for(var f=0;f<u;++f){var l,h,p,d,v=t[f].replace(a,"%20"),y=v.indexOf(n);y>=0?(l=v.substr(0,y),h=v.substr(y+1)):(l=v,h=""),p=decodeURIComponent(l),d=decodeURIComponent(h),r(s,p)?o(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"===typeof t?i(s(t),(function(s){var a=encodeURIComponent(r(s))+n;return o(t[s])?i(t[s],(function(t){return a+encodeURIComponent(r(t))})).join(e):a+encodeURIComponent(r(t[s]))})).join(e):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],5:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":3,"./encode":4}],6:[function(t,e,n){"use strict";var r=t("punycode"),o=t("./util");function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}n.parse=x,n.resolve=_,n.resolveObject=j,n.format=C,n.Url=i;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["<",">",'"',"`"," ","\r","\n","\t"],f=["{","}","|","\\","^","`"].concat(u),l=["'"].concat(f),h=["%","/","?",";","#"].concat(l),p=["/","?","#"],d=255,v=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=t("querystring");function x(t,e,n){if(t&&o.isObject(t)&&t instanceof i)return t;var r=new i;return r.parse(t,e,n),r}function C(t){return o.isString(t)&&(t=x(t)),t instanceof i?t.format():i.prototype.format.call(t)}function _(t,e){return x(t,!1,!0).resolve(e)}function j(t,e){return t?x(t,!1,!0).resolveObject(e):e}i.prototype.parse=function(t,e,n){if(!o.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),a=-1!==i&&i<t.indexOf("#")?"?":"#",u=t.split(a),f=/\\/g;u[0]=u[0].replace(f,"/"),t=u.join(a);var x=t;if(x=x.trim(),!n&&1===t.split("#").length){var C=c.exec(x);if(C)return this.path=x,this.href=x,this.pathname=C[1],C[2]?(this.search=C[2],this.query=e?b.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var _=s.exec(x);if(_){_=_[0];var j=_.toLowerCase();this.protocol=j,x=x.substr(_.length)}if(n||_||x.match(/^\/\/[^@\/]+@[^@\/]+/)){var O="//"===x.substr(0,2);!O||_&&g[_]||(x=x.substr(2),this.slashes=!0)}if(!g[_]&&(O||_&&!w[_])){for(var T,E,F=-1,k=0;k<p.length;k++){var A=x.indexOf(p[k]);-1!==A&&(-1===F||A<F)&&(F=A)}E=-1===F?x.lastIndexOf("@"):x.lastIndexOf("@",F),-1!==E&&(T=x.slice(0,E),x=x.slice(E+1),this.auth=decodeURIComponent(T)),F=-1;for(k=0;k<h.length;k++){A=x.indexOf(h[k]);-1!==A&&(-1===F||A<F)&&(F=A)}-1===F&&(F=x.length),this.host=x.slice(0,F),x=x.slice(F),this.parseHost(),this.hostname=this.hostname||"";var S="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!S)for(var M=this.hostname.split(/\./),R=(k=0,M.length);k<R;k++){var I=M[k];if(I&&!I.match(v)){for(var N="",q=0,P=I.length;q<P;q++)I.charCodeAt(q)>127?N+="x":N+=I[q];if(!N.match(v)){var U=M.slice(0,k),L=M.slice(k+1),V=I.match(y);V&&(U.push(V[1]),L.unshift(V[2])),L.length&&(x="/"+L.join(".")+x),this.hostname=U.join(".");break}}}this.hostname.length>d?this.hostname="":this.hostname=this.hostname.toLowerCase(),S||(this.hostname=r.toASCII(this.hostname));var W=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+W,this.href+=this.host,S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==x[0]&&(x="/"+x))}if(!m[j])for(k=0,R=l.length;k<R;k++){var z=l[k];if(-1!==x.indexOf(z)){var B=encodeURIComponent(z);B===z&&(B=escape(z)),x=x.split(z).join(B)}}var J=x.indexOf("#");-1!==J&&(this.hash=x.substr(J),x=x.slice(0,J));var $=x.indexOf("?");if(-1!==$?(this.search=x.substr($),this.query=x.substr($+1),e&&(this.query=b.parse(this.query)),x=x.slice(0,$)):e&&(this.search="",this.query={}),x&&(this.pathname=x),w[j]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){W=this.pathname||"";var G=this.search||"";this.path=W+G}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(s=b.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||w[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})),a=a.replace("#","%23"),e+i+n+a+r},i.prototype.resolve=function(t){return this.resolveObject(x(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if(o.isString(t)){var e=new i;e.parse(t,!1,!0),t=e}for(var n=new i,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var c=Object.keys(t),u=0;u<c.length;u++){var f=c[u];"protocol"!==f&&(n[f]=t[f])}return w[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!w[t.protocol]){for(var l=Object.keys(t),h=0;h<l.length;h++){var p=l[h];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||g[t.protocol])n.pathname=t.pathname;else{var d=(t.pathname||"").split("/");while(d.length&&!(t.host=d.shift()));t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var v=n.pathname||"",y=n.search||"";n.path=v+y}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=b||m||n.host&&t.pathname,C=x,_=n.pathname&&n.pathname.split("/")||[],j=(d=t.pathname&&t.pathname.split("/")||[],n.protocol&&!w[n.protocol]);if(j&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),x=x&&(""===d[0]||""===_[0])),b)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,_=d;else if(d.length)_||(_=[]),_.pop(),_=_.concat(d),n.search=t.search,n.query=t.query;else if(!o.isNullOrUndefined(t.search)){if(j){n.hostname=n.host=_.shift();var O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");O&&(n.auth=O.shift(),n.host=n.hostname=O.shift())}return n.search=t.search,n.query=t.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=_.slice(-1)[0],E=(n.host||t.host||_.length>1)&&("."===T||".."===T)||""===T,F=0,k=_.length;k>=0;k--)T=_[k],"."===T?_.splice(k,1):".."===T?(_.splice(k,1),F++):F&&(_.splice(k,1),F--);if(!x&&!C)for(;F--;F)_.unshift("..");!x||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),E&&"/"!==_.join("/").substr(-1)&&_.push("");var A=""===_[0]||_[0]&&"/"===_[0].charAt(0);if(j){n.hostname=n.host=A?"":_.length?_.shift():"";O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");O&&(n.auth=O.shift(),n.host=n.hostname=O.shift())}return x=x||n.host&&_.length,x&&!A&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":7,punycode:2,querystring:5}],7:[function(t,e,n){"use strict";e.exports={isString:function(t){return"string"===typeof t},isObject:function(t){return"object"===typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],8:[function(t,e,n){"use strict";var r=t("./raw"),o=[],i=[],s=r.makeRequestCallFromTimer(a);function a(){if(i.length)throw i.shift()}function c(t){var e;e=o.length?o.pop():new u,e.task=t,r(e)}function u(){this.task=null}e.exports=c,u.prototype.call=function(){try{this.task.call()}catch(t){c.onerror?c.onerror(t):(i.push(t),s())}finally{this.task=null,o[o.length]=this}}},{"./raw":9}],9:[function(t,n,r){(function(t){(function(){"use strict";function e(t){o.length||(r(),!0),o[o.length]=t}n.exports=e;var r,o=[],i=0,s=1024;function a(){while(i<o.length){var t=i;if(i+=1,o[t].call(),i>s){for(var e=0,n=o.length-i;e<n;e++)o[e]=o[e+i];o.length-=i,i=0}}o.length=0,i=0,!1}var c="undefined"!==typeof t?t:self,u=c.MutationObserver||c.WebKitMutationObserver;function f(t){var e=1,n=new u(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}function l(t){return function(){var e=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(e),clearInterval(n),t()}}}r="function"===typeof u?f(a):l(a),e.requestFlush=r,e.makeRequestCallFromTimer=l}).call(this)}).call(this,"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],10:[function(t,e,n){"use strict";var r=t("type/value/is"),o=t("type/plain-function/is"),i=t("es5-ext/object/assign"),s=t("es5-ext/object/normalize-options"),a=t("es5-ext/string/#/contains"),c=e.exports=function(t,e){var n,o,c,u,f;return arguments.length<2||"string"!==typeof t?(u=e,e=t,t=null):u=arguments[2],r(t)?(n=a.call(t,"c"),o=a.call(t,"e"),c=a.call(t,"w")):(n=c=!0,o=!1),f={value:e,configurable:n,enumerable:o,writable:c},u?i(s(u),f):f};c.gs=function(t,e,n){var c,u,f,l;return"string"!==typeof t?(f=n,n=e,e=t,t=null):f=arguments[3],r(e)?o(e)?r(n)?o(n)||(f=n,n=void 0):n=void 0:(f=e,e=n=void 0):e=void 0,r(t)?(c=a.call(t,"c"),u=a.call(t,"e")):(c=!0,u=!1),l={get:e,set:n,configurable:c,enumerable:u},f?i(s(f),l):l}},{"es5-ext/object/assign":14,"es5-ext/object/normalize-options":22,"es5-ext/string/#/contains":25,"type/plain-function/is":64,"type/value/is":66}],11:[function(t,e,n){(function(r){(function(){function o(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(r++,"%c"===t&&(o=r))}),t.splice(o,0,n)}function s(t){try{t?n.storage.setItem("debug",t):n.storage.removeItem("debug")}catch(e){}}function a(){let t;try{t=n.storage.getItem("debug")}catch(e){}return!t&&"undefined"!==typeof r&&"env"in r&&(t=r.env.DEBUG),t}function c(){try{return localStorage}catch(t){}}n.formatArgs=i,n.save=s,n.load=a,n.useColors=o,n.storage=c(),n.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.log=console.debug||console.log||(()=>{}),e.exports=t("./common")(n);const{formatters:u}=e.exports;u.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this)}).call(this,t("_process"))},{"./common":12,_process:1}],12:[function(t,e,n){function r(e){function n(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){let e,n,i,s=null;function a(...t){if(!a.enabled)return;const n=a,o=Number(new Date),i=o-(e||o);n.diff=i,n.prev=e,n.curr=o,e=o,t[0]=r.coerce(t[0]),"string"!==typeof t[0]&&t.unshift("%O");let s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(e,o)=>{if("%%"===e)return"%";s++;const i=r.formatters[o];if("function"===typeof i){const r=t[s];e=i.call(n,r),t.splice(s,1),s--}return e}),r.formatArgs.call(n,t);const c=n.log||r.log;c.apply(n,t)}return a.namespace=t,a.useColors=r.useColors(),a.color=r.selectColor(t),a.extend=o,a.destroy=r.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(n!==r.namespaces&&(n=r.namespaces,i=r.enabled(t)),i),set:t=>{s=t}}),"function"===typeof r.init&&r.init(a),a}function o(t,e){const n=r(this.namespace+("undefined"===typeof e?":":e)+t);return n.log=this.log,n}function i(t){let e;r.save(t),r.namespaces=t,r.names=[],r.skips=[];const n=("string"===typeof t?t:"").split(/[\s,]+/),o=n.length;for(e=0;e<o;e++)n[e]&&(t=n[e].replace(/\*/g,".*?"),"-"===t[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")))}function s(){const t=[...r.names.map(c),...r.skips.map(c).map(t=>"-"+t)].join(",");return r.enable(""),t}function a(t){if("*"===t[t.length-1])return!0;let e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1}function c(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}function u(t){return t instanceof Error?t.stack||t.message:t}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.debug=r,r.default=r,r.coerce=u,r.disable=s,r.enable=i,r.enabled=a,r.humanize=t("ms"),r.destroy=f,Object.keys(e).forEach(t=>{r[t]=e[t]}),r.names=[],r.skips=[],r.formatters={},r.selectColor=n,r.enable(r.load()),r}e.exports=r},{ms:52}],13:[function(t,e,n){"use strict";e.exports=function(){}},{}],14:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Object.assign:t("./shim")},{"./is-implemented":15,"./shim":16}],15:[function(t,e,n){"use strict";e.exports=function(){var t,e=Object.assign;return"function"===typeof e&&(t={foo:"raz"},e(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},{}],16:[function(t,e,n){"use strict";var r=t("../keys"),o=t("../valid-value"),i=Math.max;e.exports=function(t,e){var n,s,a,c=i(arguments.length,2);for(t=Object(o(t)),a=function(r){try{t[r]=e[r]}catch(o){n||(n=o)}},s=1;s<c;++s)e=arguments[s],r(e).forEach(a);if(void 0!==n)throw n;return t}},{"../keys":19,"../valid-value":24}],17:[function(t,e,n){"use strict";var r=t("./valid-value"),o=Object.prototype.propertyIsEnumerable;e.exports=function(t){var e;for(e in r(t),t)if(o.call(t,e))return!1;return!0}},{"./valid-value":24}],18:[function(t,e,n){"use strict";var r=t("../function/noop")();e.exports=function(t){return t!==r&&null!==t}},{"../function/noop":13}],19:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Object.keys:t("./shim")},{"./is-implemented":20,"./shim":21}],20:[function(t,e,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},{}],21:[function(t,e,n){"use strict";var r=t("../is-value"),o=Object.keys;e.exports=function(t){return o(r(t)?Object(t):t)}},{"../is-value":18}],22:[function(t,e,n){"use strict";var r=t("./is-value"),o=Array.prototype.forEach,i=Object.create,s=function(t,e){var n;for(n in t)e[n]=t[n]};e.exports=function(t){var e=i(null);return o.call(arguments,(function(t){r(t)&&s(Object(t),e)})),e}},{"./is-value":18}],23:[function(t,e,n){"use strict";e.exports=function(t){if("function"!==typeof t)throw new TypeError(t+" is not a function");return t}},{}],24:[function(t,e,n){"use strict";var r=t("./is-value");e.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},{"./is-value":18}],25:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?String.prototype.contains:t("./shim")},{"./is-implemented":26,"./shim":27}],26:[function(t,e,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"===typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},{}],27:[function(t,e,n){"use strict";var r=String.prototype.indexOf;e.exports=function(t){return r.call(this,t,arguments[1])>-1}},{}],28:[function(t,e,n){n.Agent=t("./lib/Agent"),n.ServiceManager=t("./lib/ServiceManager"),n.TransportManager=t("./lib/TransportManager");var r=t("./lib/module/RequestModule");n.transport={LocalTransport:t("./lib/transport/local/LocalTransport")},n.TransportManager.registerType(n.transport.LocalTransport),n.system=new n.ServiceManager,n.system.transports.add(new n.transport.LocalTransport),n.Agent.getTransportById=function(t){return n.system.transports.get(t)},n.Agent.registerModule(r)},{"./lib/Agent":29,"./lib/ServiceManager":30,"./lib/TransportManager":31,"./lib/module/RequestModule":32,"./lib/transport/local/LocalTransport":36}],29:[function(t,e,n){"use strict";var r=t("promise"),o=t("uuid-v4"),i=(t("./util"),t("url"));function s(t){this.id=t?t.toString():o(),this.connections=[],this.defaultConnection=null,this.ready=r.resolve([])}function a(t){var e=s.modules[t];if(!e)throw new Error('Unknown module "'+t+'". Choose from: '+Object.keys(s.modules).map(JSON.stringify).join(", "));return e}s.modules={},s.registerModule=function(t){var e=t.prototype.type;if("function"!==typeof t)throw new Error("Constructor function expected");if(!e)throw new Error('Field "prototype.type" missing in transport constructor');if(e in s.modules&&s.modules[e]!==t)throw new Error('Module of type "'+e+'" already exists');s.modules[e]=t},s.getTransportById=function(t){throw new Error('Transport with id "'+t+'" not found')},s.prototype.extend=function(t,e){if(Array.isArray(t)){var n=[].concat(t);n.sort((function(t,e){return"pattern"==t?-1:"pattern"==e?1:0}));for(var r=0;r<n.length;r++)this.extend(n[r],e)}else{var o=a(t),i=new o(this,e),s=i.mixin(),c=this;Object.keys(s).forEach((function(t){if(void 0!==c[t]&&"_receive"!==t)throw new Error('Conflict: agent already has a property "'+prop+'"')})),Object.keys(s).forEach((function(t){c[t]=s[t]}))}return this},s.prototype.loadModule=function(t,e,n){var r=void 0!==e?Object.create(e):{};r.extend=!1;var o=a(t),i=new o(this,e,n),s=i.mixin();return this._receive=s._receive,i},s.prototype.send=function(t,e){var n=t.indexOf(":");if(-1!==n){var o=i.parse(t);return this._sendByProtocol(o.protocol.slice(0,-1),t,e)}var s=t.indexOf("@");if(-1!=s){var a=t.substring(0,s),c=t.substring(s+1);return this._sendByTransportId(c,a,e)}var u=this.defaultConnection;return u?u.send(t,e):r.reject(new Error("No transport found"))},s.prototype._sendByNetworkId=function(t,e,n){for(var o=0;o<this.connections.length;o++){var i=this.connections[o];if(i.transport.networkId==t)return i.send(e,n)}return r.reject(new Error('No transport found with networkId "'+t+'"'))},s.prototype._sendByProtocol=function(t,e,n){t="https"==t?"http":t;for(var o=0;o<this.connections.length;o++){var i=this.connections[o];if(i.transport.type==t)return i.send(e,n)}return r.reject(new Error('No transport found for protocol "'+t+'"'))},s.prototype._sendByTransportId=function(t,e,n){for(var o=0;o<this.connections.length;o++){var i=this.connections[o];if(i.transport.id==t)return i.send(e,n)}return r.reject(new Error('No transport found with id "'+t+'"'))},s.prototype.receive=function(t,e,n){},s.prototype._receive=function(t,e,n){return this.receive(t,e)},s.prototype.getUrls=function(){return this.connections.map((function(t){return t.getMyUrl()}))},s.prototype.getUrlByProtocol=function(t){for(var e=0;e<this.connections.length;e++){var n=this.connections[e];if(n.transport.type==t)return n.getMyUrl()}},s.prototype.connect=function(t,e){if(Array.isArray(t)){var n=this;return t.map((function(t){try{return n._connect(t,e)}catch(r){return{error:r}}}))}if("string"===typeof t)try{return this._connect(s.getTransportById(t),e)}catch(r){return{error:r}}else try{return this._connect(t,e)}catch(r){return{error:r}}},s.prototype._connect=function(t,e){var n=this,r=function(t,e,r){return n._receive(t,e,r)},o=t.connect(e||this.id,r);if(this.connections.push(o),this.defaultConnection){if(t["default"]){if(this.defaultConnection["default"])throw new Error("Cannot connect to a second default transport");this.defaultConnection=o}}else this.defaultConnection=o;return this._updateReady(),o},s.prototype.disconnect=function(t){var e,n;if(t){if(Array.isArray(t)){e=0;while(e<this.connections.length)n=this.connections[e],-1!==t.indexOf(n.transport)?this._disconnect(n):e++}else if("string"===typeof t)this.disconnect(s.getTransportById(t));else for(e=0;e<this.connections.length;e++)if(n=this.connections[e],n.transport===t){this._disconnect(n);break}}else while(n=this.connections[0])this._disconnect(n)},s.prototype._disconnect=function(t){var e=this.connections.indexOf(t);-1!==e&&(t.close(),this.connections.splice(e,1),this.defaultConnection===t&&(this.defaultConnection=this.connections[this.connections.length-1]||null)),this._updateReady()},s.prototype._updateReady=function(){this.ready=r.all(this.connections.map((function(t){return t.ready})))},e.exports=s},{"./util":37,promise:53,url:6,"uuid-v4":67}],30:[function(t,e,n){"use strict";var r=t("seed-random"),o=t("hypertimer"),i=t("./TransportManager"),s={transports:!0,timer:!0,random:!0};function a(t){this.transports=new i,this.timer=o(),this.random=Math.random,this.init(t)}a.prototype.init=function(t){if(this.transports.clear(),t){if(t.transports&&this.transports.load(t.transports),t.timer&&this.timer.config(t.timer),t.random)if(t.random.deterministic){var e=t.random.seed||"random seed";this.random=r(e,t.random)}else this.random=Math.random;for(var n in t)t.hasOwnProperty(n)&&!s[n]&&console.log('WARNING: Unknown configuration option "'+n+'"')}},a.prototype.clear=function(){this.transports.clear()},e.exports=a},{"./TransportManager":31,hypertimer:40,"seed-random":61}],31:[function(t,e,n){"use strict";function r(t){this.transports=[],t&&this.load(t)}r.types={},r.registerType=function(t){var e=t.prototype.type;if("function"!==typeof t)throw new Error("Constructor function expected");if(!e)throw new Error('Field "prototype.type" missing in transport constructor');if(e in r.types&&r.types[e]!==t)throw new Error('Transport type "'+e+'" already exists');r.types[e]=t},r.prototype.add=function(t){return this.transports.push(t),t},r.prototype.load=function(t){if(Array.isArray(t))return t.map(this.load.bind(this));var e=t.type;if(!e)throw new Error('Property "type" missing');var n=r.types[e];if(!n)throw new Error('Unknown type of transport "'+e+'". Choose from: '+Object.keys(r.types).join(","));var o=new n(t);return this.transports.push(o),o},r.prototype.unload=function(t){var e;if("string"===typeof t)e=this.get(t);else if(Array.isArray(t))for(var n=0;n<t.length;n++)this.unload(t[n]);else e=t;if(e){e.close();var r=this.transports.indexOf(e);-1!==r&&this.transports.splice(r,1)}},r.prototype.get=function(t){for(var e=0;e<this.transports.length;e++){var n=this.transports[e];if(n.id===t)return n}throw new Error('Transport with id "'+t+'" not found')},r.prototype.getAll=function(){return this.transports.concat([])},r.prototype.getByType=function(t){if(t){if(!(t in r.types))throw new Error('Unknown type of transport "'+t+'". Choose from: '+Object.keys(r.types).join(","));return this.transports.filter((function(e){return e.type===t}))}return[].concat(this.transports)},r.prototype.clear=function(){this.transports.forEach((function(t){t.close()})),this.transports=[]},e.exports=r},{}],32:[function(t,e,n){"use strict";var r=t("uuid-v4"),o=t("promise"),i=t("../util"),s=6e4;function a(t,e){this.agent=t,this.receiveOriginal=t._receive,this.timeout=e&&e.timeout||s,this.queue=[]}a.prototype.type="request",a.prototype.receive=function(t,e,n){var r=this.agent;if("object"===typeof e){var o=e,s=this.queue[o.id];if(s)return clearTimeout(s.timeout),delete this.queue[o.id],o.error?s.reject(new Error(o.error)):s.resolve(o.message),!0;if("request"==e.type)try{var a=this.receiveOriginal.call(r,t,e.message,n);i.isPromise(a)?a.then((function(n){r.send(t,{type:"request",id:e.id,message:n})})).catch((function(n){r.send(t,{type:"request",id:e.id,error:n.message||n.toString()})})):r.send(t,{type:"request",id:e.id,message:a})}catch(c){r.send(t,{type:"request",id:e.id,error:c.message||c.toString()})}}else this.receiveOriginal&&this.receiveOriginal.call(r,t,e,n)},a.prototype.request=function(t,e){var n=this;return new o((function(o,i){var s=r(),a={type:"request",id:s,message:e};n.queue[s]={resolve:o,reject:i,timeout:setTimeout((function(){delete n.queue[s],i(new Error("Timeout"))}),n.timeout)},n.agent.send(t,a).catch((function(t){i(t)}))}))},a.prototype.mixin=function(){return{_receive:this.receive.bind(this),request:this.request.bind(this)}},e.exports=a},{"../util":37,promise:53,"uuid-v4":67}],33:[function(t,e,n){"use strict";var r=t("promise");function o(t,e,n){throw new Error("Cannot create an abstract Connection")}o.prototype.ready=r.reject(new Error("Cannot get abstract property ready")),o.prototype.send=function(t,e){throw new Error("Cannot call abstract function send")},o.prototype.close=function(){throw new Error('Cannot call abstract function "close"')},o.prototype.getMyUrl=function(){return this.transport.type+":"+this.id},e.exports=o},{promise:53}],34:[function(t,e,n){"use strict";function r(t){this.id=t&&t.id||null,this["default"]=t&&t["default"]||!1}r.prototype.type=null,r.prototype.connect=function(t,e){throw new Error('Cannot invoke abstract function "connect"')},r.prototype.close=function(){throw new Error('Cannot invoke abstract function "close"')},e.exports=r},{}],35:[function(t,e,n){"use strict";var r=t("promise");t("../Connection");function o(t,e,n){if(this.transport=t,this.id=e,this.id in this.transport.agents)throw new Error("Agent with id "+e+" already exists");this.transport.agents[this.id]=n,this.ready=r.resolve(this)}o.prototype.getMyUrl=function(){return this.transport.type+":"+this.id},o.prototype.send=function(t,e){var n=t.replace("local:","").split("?"),o=this.transport.agents[n[0]];if(!o)return r.reject(new Error("Agent with id "+t+" not found"));var i=n[1]?n[1].split("&"):[];return o("local:"+this.id,e,i),r.resolve()},o.prototype.close=function(){delete this.transport.agents[this.id]},e.exports=o},{"../Connection":33,promise:53}],36:[function(t,e,n){"use strict";var r=t("./../Transport"),o=t("./LocalConnection");function i(t){this.id=t&&t.id||null,this.networkId=this.id||null,this["default"]=t&&t["default"]||!1,this.agents={}}i.prototype=new r,i.prototype.type="local",i.prototype.connect=function(t,e){return new o(this,t,e)},i.prototype.close=function(){this.agents={}},e.exports=i},{"./../Transport":34,"./LocalConnection":35}],37:[function(t,e,n){"use strict";n.isPromise=function(t){return t&&"function"===typeof t["then"]&&"function"===typeof t["catch"]},n.normalizeURL=function(t){return"/"==t[t.length-1]?t.substring(0,t.length-1):t}},{}],38:[function(t,e,n){"use strict";var r=t("es5-ext/object/is-empty"),o=t("es5-ext/object/valid-value"),i=Object.prototype.hasOwnProperty;e.exports=function(t){var e;return o(t),e=arguments[1],arguments.length>1?i.call(t,"__ee__")&&Boolean(t.__ee__[e]):t.hasOwnProperty("__ee__")&&!r(t.__ee__)}},{"es5-ext/object/is-empty":17,"es5-ext/object/valid-value":24}],39:[function(t,e,n){"use strict";var r,o,i,s,a,c,u,f=t("d"),l=t("es5-ext/object/valid-callable"),h=Function.prototype.apply,p=Function.prototype.call,d=Object.create,v=Object.defineProperty,y=Object.defineProperties,m=Object.prototype.hasOwnProperty,g={configurable:!0,enumerable:!1,writable:!0};r=function(t,e){var n;return l(e),m.call(this,"__ee__")?n=this.__ee__:(n=g.value=d(null),v(this,"__ee__",g),g.value=null),n[t]?"object"===typeof n[t]?n[t].push(e):n[t]=[n[t],e]:n[t]=e,this},o=function(t,e){var n,o;return l(e),o=this,r.call(this,t,n=function(){i.call(o,t,n),h.call(e,this,arguments)}),n.__eeOnceListener__=e,this},i=function(t,e){var n,r,o,i;if(l(e),!m.call(this,"__ee__"))return this;if(n=this.__ee__,!n[t])return this;if(r=n[t],"object"===typeof r)for(i=0;o=r[i];++i)o!==e&&o.__eeOnceListener__!==e||(2===r.length?n[t]=r[i?0:1]:r.splice(i,1));else r!==e&&r.__eeOnceListener__!==e||delete n[t];return this},s=function(t){var e,n,r,o,i;if(m.call(this,"__ee__")&&(o=this.__ee__[t],o))if("object"===typeof o){for(n=arguments.length,i=new Array(n-1),e=1;e<n;++e)i[e-1]=arguments[e];for(o=o.slice(),e=0;r=o[e];++e)h.call(r,this,i)}else switch(arguments.length){case 1:p.call(o,this);break;case 2:p.call(o,this,arguments[1]);break;case 3:p.call(o,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,i=new Array(n-1),e=1;e<n;++e)i[e-1]=arguments[e];h.call(o,this,i)}},a={on:r,once:o,off:i,emit:s},c={on:f(r),once:f(o),off:f(i),emit:f(s)},u=y({},c),e.exports=n=function(t){return null==t?d(u):y(Object(t),c)},n.methods=a},{d:10,"es5-ext/object/valid-callable":23}],40:[function(t,e,n){e.exports=t("./lib/hypertimer")},{"./lib/hypertimer":43}],41:[function(t,e,n){e.exports="undefined"===typeof window||"undefined"===typeof window.Promise?t("promise"):window.Promise},{promise:53}],42:[function(t,e,n){var r="undefined"!==typeof window?window.Debug:t("debug");e.exports=r||function(){return function(){}}},{debug:11}],43:[function(t,e,n){var r=t("event-emitter"),o=t("event-emitter/has-listeners"),i=t("./synchronization/master").createMaster,s=t("./synchronization/slave").createSlave,a=t("./util"),c={TIMEOUT:0,INTERVAL:1,TRIGGER:2};function u(t){var e=!0,n=1,u=!0,f=null,l=null,h=null,p=!1,d=null,v=a.systemNow(),y=[],m={},g=null,w=0,b=null,x=null,C=r({});function _(){return{paced:e,rate:n,deterministic:u,time:f,master:l,port:h}}function j(t){if(x||t.master)for(var e in t)if("master"!==e&&"slave"!==e)throw new Error('Cannot apply configuration option "'+e+'", timer is configured as slave.')}function O(t){if("deterministic"in t&&(u=!!t.deterministic),"paced"in t&&(e=!!t.paced),"time"in t&&(v=M(t.time),d=a.systemNow(),T(v),f=new Date(v).toISOString()),"rate"in t){var r=Number(t.rate);if(isNaN(r)||r<=0)throw new TypeError("Invalid rate "+JSON.stringify(t.rate)+". Rate must be a positive number");v=C.now(),d=a.systemNow(),n=r}if("master"in t&&(x&&(x.destroy(),x=null),l=t.master,null!=t.master)){function o(t){var e=_();O(t);var n=_();C.emit("config",n,e)}x=s(t.master),x.on("change",(function(t){o({time:t})})),x.on("config",(function(t){o(t)})),x.on("error",(function(t){C.emit("error",t)}))}"port"in t&&(b&&(b.destroy(),b=null),h=t.port,t.port&&(b=i(C.now,C.config,t.port),b.on("error",(function(t){C.emit("error",t)})))),S(),b&&b.broadcastConfig()}function T(t){for(var e=0;e<y.length;e++){var n=y[e];n.type===c.INTERVAL&&E(n,t)}}function E(t,e){t.occurrence=Math.round((e-t.firstTime)/t.interval),t.time=t.firstTime+t.occurrence*t.interval}function F(t){if(y.length>0){var e=y.length-1;while(e>=0&&y[e].time>t.time)e--;y.splice(e+1,0,t)}else y.push(t)}function k(t,e){function n(){t.type===c.INTERVAL&&m[t.id]&&(t.occurrence++,t.time=t.firstTime+t.occurrence*t.interval,F(t)),delete m[t.id],e&&e()}m[t.id]=t;try{0==t.callback.length?(t.callback(),n()):t.callback(n)}catch(r){o(C,"error")?C.emit("error",r):console.log("Error",r),n()}}function A(t){var e=0;while(e<y.length&&(y[e].time<=t||!isFinite(y[e].time)))e++;var n=y.splice(0,e);return 0==u&&a.shuffle(n),n}function S(){if(e||!(Object.keys(m).length>0)){var t=y[0];if(g&&(clearTimeout(g),g=null),p&&t){var r=t.time,o=r-C.now(),i=e?o/n:0;function s(){e||(v=r>v&&isFinite(r)?r:v);var t=A(r);if(e)t.forEach((function(t){k(t)})),S();else{function n(){var e=t.shift();e?k(e,n):S()}n()}}g=setTimeout(s,Math.round(i))}}}function M(t){var e="number"===typeof t?t:t instanceof Date?t.valueOf():new Date(t).valueOf();if(isNaN(e))throw new TypeError("Invalid date "+JSON.stringify(t)+". Date, number, or ISOString expected");return e}return C.config=function(t){return t&&(j(t),O(t)),_()},C.now=function(){if(e){if(p){var t=a.systemNow()-d,r=t*n;return v+r}return v}return v},C["continue"]=function(){d=a.systemNow(),p=!0,S()},C.pause=function(){v=C.now(),d=null,p=!1,S()},C.getTime=function(){return new Date(C.now())},C.valueOf=C.getTime,C.toString=function(){return C.getTime().toString()},C.setTimeout=function(t,e){var n=w++,r=C.now()+e;if(isNaN(r))throw new TypeError("delay must be a number");return F({id:n,type:c.TIMEOUT,time:r,callback:t}),S(),n},C.setTrigger=function(t,e){var n=w++,r=M(e);return F({id:n,type:c.TRIGGER,time:r,callback:t}),S(),n},C.setInterval=function(t,e,n){var r=w++,o=Number(e);if(isNaN(o))throw new TypeError("interval must be a number");(o<0||!isFinite(o))&&(o=0);var i=void 0!=n?M(n):null,s=C.now(),a=null!=i?i:s+o,u={id:r,type:c.INTERVAL,interval:o,time:a,firstTime:null!=i?i:a,occurrence:0,callback:t};return a<s&&E(u,s),F(u),S(),r},C.clearTimeout=function(t){if(m[t])delete m[t];else for(var e=0;e<y.length;e++)if(y[e].id===t){y.splice(e,1),S();break}},C.clearTrigger=C.clearTimeout,C.clearInterval=C.clearTimeout,C.list=function(){return y.map((function(t){return t.id}))},C.clear=function(){m={},y=[],S()},C.destroy=function(){C.clear(),x&&x.destroy(),b&&b.destroy()},Object.defineProperty(C,"running",{get:function(){return p}}),C.config(t),C.continue(),C}e.exports=u},{"./synchronization/master":45,"./synchronization/slave":46,"./util":50,"event-emitter":39,"event-emitter/has-listeners":38}],44:[function(t,e,n){e.exports="undefined"===typeof window||"undefined"===typeof window.WebSocket?t("ws"):window.WebSocket},{ws:51}],45:[function(t,e,n){var r=t("./WebSocket"),o=t("./socket-emitter"),i=t("../debug")("hypertimer:master");n.createMaster=function(t,e,n){var s=new r.Server({port:n});function a(){var t=e();return delete t.time,delete t.master,delete t.port,t}return s.on("connection",(function(e){i("new connection");var n=o(e);n.on("time",(function(e,n){var r=t();n(r),i("send time "+new Date(r).toISOString())}));var r=a();i("send config",r),n.send("config",r),e.emitter=n})),s.broadcast=function(t,e){i("broadcast",t,e),s.clients.forEach((function(n){n.emitter.send(t,e)}))},s.broadcastConfig=function(){s.broadcast("config",a())},s.destroy=function(){s.close(),i("destroyed")},i("listening at ws://localhost:"+n),s}},{"../debug":42,"./WebSocket":44,"./socket-emitter":47}],46:[function(t,e,n){var r=t("./WebSocket"),o=t("../Promise"),i=t("../debug")("hypertimer:slave"),s=t("./socket-emitter"),a=t("./stat"),c=t("./util"),u=36e5,f=1e3,l=5;n.createSlave=function(t){var e=new r(t),n=s(e),h=!0,p=!1,d=null;function v(){function t(){var t=null;return p?o.resolve(t):y(n).then((function(e){t=e})).catch((function(t){console.log(t)})).then((function(){return c.wait(f)})).then((function(){return t}))}return c.repeat(t,l).then((function(t){i("latencies",t);var e=t.filter((function(t){return null!==t})),n=a.median(e)+a.std(e),r=e.filter((function(t){return t<n}));return r.length>0?a.mean(r):null})).then((function(t){return p?o.resolve(null):n.request("time").then((function(e){var r=e+t;return n.emit("change",r),r}))})).catch((function(t){n.emit("error",t)}))}function y(t){var e=Date.now();return t.request("time").then((function(n){var r=Date.now(),o=(r-e)/2,i=n+o;return h&&(h=!1,t.emit("change",i)),o}))}return e.onopen=function(){i("connected"),v(),d=setInterval(v,u)},n.destroy=function(){p=!0,clearInterval(d),d=null,e.close(),i("destroyed")},n}},{"../Promise":41,"../debug":42,"./WebSocket":44,"./socket-emitter":47,"./stat":48,"./util":49}],47:[function(t,e,n){var r=t("event-emitter"),o=t("./../Promise"),i=t("../debug")("hypertimer:socket"),s=6e4;e.exports=function(t){var e=r({socket:t,send:n,request:a});function n(e,n){var r={event:e,data:n};i("send",r),t.send(JSON.stringify(r))}function a(e,n){return new o((function(r,o){var a=u(),f={event:e,id:a,data:n};c[a]={resolve:r,reject:o,timeout:setTimeout((function(){delete c[a],o(new Error("Timeout"))}),s)},i("request",f),t.send(JSON.stringify(f))})).catch((function(t){console.log("ERROR",t)}))}t.onmessage=function(n){var r=n.data,o=JSON.parse(r);i("receive",o);var s=c[o.id];s?(clearTimeout(s.timeout),delete c[o.id],s.resolve(o.data)):"id"in o?e.emit(o.event,o.data,(function(e){var n={id:o.id,data:e};t.readyState===t.OPEN||t.readyState===t.CONNECTING?(i("reply",n),t.send(JSON.stringify(n))):i("cancel reply",n,"(socket is closed)")})):e.emit(o.event,o.data)};var c={};function u(){return f++}var f=0;return e}},{"../debug":42,"./../Promise":41,"event-emitter":39}],48:[function(t,e,n){n.compare=function(t,e){return t>e?1:t<e?-1:0},n.add=function(t,e){return t+e},n.sum=function(t){return t.reduce(n.add)},n.mean=function(t){return n.sum(t)/t.length},n.std=function(t){return Math.sqrt(n.variance(t))},n.variance=function(t){if(t.length<2)return 0;var e=n.mean(t);return t.map((function(t){return Math.pow(t-e,2)})).reduce(n.add)/(t.length-1)},n.median=function(t){if(t.length<2)return t[0];var e=t.slice().sort(n.compare);return e.length%2===0?(t[t.length/2-1]+t[t.length/2])/2:t[(t.length-1)/2]}},{}],49:[function(t,e,n){var r=t("../Promise");n.wait=function(t){return new r((function(e){setTimeout(e,t)}))},n.repeat=function(t,e){return new r((function(n,r){var o=0,i=[];function s(){o<e?(o++,t().then((function(t){i.push(t),s()}))):n(i)}s()}))},n.whilst=function(t,e){return new r((function(n,r){function o(){t()?e().then((function(){o()})):n()}o()}))}},{"../Promise":41}],50:[function(t,e,n){"function"===typeof Date.now?n.systemNow=function(){return Date.now()}:n.systemNow=function(){return(new Date).valueOf()},n.shuffle=function(t){for(var e,n,r=t.length;r;e=Math.floor(Math.random()*r),n=t[--r],t[r]=t[e],t[e]=n);return t}},{}],51:[function(t,e,n){"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},{}],52:[function(t,e,n){var r=1e3,o=60*r,i=60*o,s=24*i,a=7*s,c=365.25*s;function u(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),u=(e[2]||"ms").toLowerCase();switch(u){case"years":case"year":case"yrs":case"yr":case"y":return n*c;case"weeks":case"week":case"w":return n*a;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"hrs":case"hr":case"h":return n*i;case"minutes":case"minute":case"mins":case"min":case"m":return n*o;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function f(t){var e=Math.abs(t);return e>=s?Math.round(t/s)+"d":e>=i?Math.round(t/i)+"h":e>=o?Math.round(t/o)+"m":e>=r?Math.round(t/r)+"s":t+"ms"}function l(t){var e=Math.abs(t);return e>=s?h(t,e,s,"day"):e>=i?h(t,e,i,"hour"):e>=o?h(t,e,o,"minute"):e>=r?h(t,e,r,"second"):t+" ms"}function h(t,e,n,r){var o=e>=1.5*n;return Math.round(t/n)+" "+r+(o?"s":"")}e.exports=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return u(t);if("number"===n&&isFinite(t))return e.long?l(t):f(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},{}],53:[function(t,e,n){"use strict";e.exports=t("./lib")},{"./lib":58}],54:[function(t,e,n){"use strict";var r=t("asap/raw");function o(){}var i=null,s={};function a(t){try{return t.then}catch(e){return i=e,s}}function c(t,e){try{return t(e)}catch(n){return i=n,s}}function u(t,e,n){try{t(e,n)}catch(r){return i=r,s}}function f(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("Promise constructor's argument is not a function");this._U=0,this._V=0,this._W=null,this._X=null,t!==o&&g(t,this)}function l(t,e,n){return new t.constructor((function(r,i){var s=new f(o);s.then(r,i),h(t,new m(e,n,s))}))}function h(t,e){while(3===t._V)t=t._W;if(f._Y&&f._Y(t),0===t._V)return 0===t._U?(t._U=1,void(t._X=e)):1===t._U?(t._U=2,void(t._X=[t._X,e])):void t._X.push(e);p(t,e)}function p(t,e){r((function(){var n=1===t._V?e.onFulfilled:e.onRejected;if(null!==n){var r=c(n,t._W);r===s?v(e.promise,i):d(e.promise,r)}else 1===t._V?d(e.promise,t._W):v(e.promise,t._W)}))}function d(t,e){if(e===t)return v(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"===typeof e||"function"===typeof e)){var n=a(e);if(n===s)return v(t,i);if(n===t.then&&e instanceof f)return t._V=3,t._W=e,void y(t);if("function"===typeof n)return void g(n.bind(e),t)}t._V=1,t._W=e,y(t)}function v(t,e){t._V=2,t._W=e,f._Z&&f._Z(t,e),y(t)}function y(t){if(1===t._U&&(h(t,t._X),t._X=null),2===t._U){for(var e=0;e<t._X.length;e++)h(t,t._X[e]);t._X=null}}function m(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function g(t,e){var n=!1,r=u(t,(function(t){n||(n=!0,d(e,t))}),(function(t){n||(n=!0,v(e,t))}));n||r!==s||(n=!0,v(e,i))}e.exports=f,f._Y=null,f._Z=null,f._0=o,f.prototype.then=function(t,e){if(this.constructor!==f)return l(this,t,e);var n=new f(o);return h(this,new m(t,e,n)),n}},{"asap/raw":9}],55:[function(t,e,n){"use strict";var r=t("./core.js");e.exports=r,r.prototype.done=function(t,e){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,(function(t){setTimeout((function(){throw t}),0)}))}},{"./core.js":54}],56:[function(t,e,n){"use strict";var r=t("./core.js");e.exports=r;var o=f(!0),i=f(!1),s=f(null),a=f(void 0),c=f(0),u=f("");function f(t){var e=new r(r._0);return e._V=1,e._W=t,e}r.resolve=function(t){if(t instanceof r)return t;if(null===t)return s;if(void 0===t)return a;if(!0===t)return o;if(!1===t)return i;if(0===t)return c;if(""===t)return u;if("object"===typeof t||"function"===typeof t)try{var e=t.then;if("function"===typeof e)return new r(e.bind(t))}catch(n){return new r((function(t,e){e(n)}))}return f(t)};var l=function(t){return"function"===typeof Array.from?(l=Array.from,Array.from(t)):(l=function(t){return Array.prototype.slice.call(t)},Array.prototype.slice.call(t))};r.all=function(t){var e=l(t);return new r((function(t,n){if(0===e.length)return t([]);var o=e.length;function i(s,a){if(a&&("object"===typeof a||"function"===typeof a)){if(a instanceof r&&a.then===r.prototype.then){while(3===a._V)a=a._W;return 1===a._V?i(s,a._W):(2===a._V&&n(a._W),void a.then((function(t){i(s,t)}),n))}var c=a.then;if("function"===typeof c){var u=new r(c.bind(a));return void u.then((function(t){i(s,t)}),n)}}e[s]=a,0===--o&&t(e)}for(var s=0;s<e.length;s++)i(s,e[s])}))},r.reject=function(t){return new r((function(e,n){n(t)}))},r.race=function(t){return new r((function(e,n){l(t).forEach((function(t){r.resolve(t).then(e,n)}))}))},r.prototype["catch"]=function(t){return this.then(null,t)}},{"./core.js":54}],57:[function(t,e,n){"use strict";var r=t("./core.js");e.exports=r,r.prototype.finally=function(t){return this.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))}))}},{"./core.js":54}],58:[function(t,e,n){"use strict";e.exports=t("./core.js"),t("./done.js"),t("./finally.js"),t("./es6-extensions.js"),t("./node-extensions.js"),t("./synchronous.js")},{"./core.js":54,"./done.js":55,"./es6-extensions.js":56,"./finally.js":57,"./node-extensions.js":59,"./synchronous.js":60}],59:[function(t,e,n){"use strict";var r=t("./core.js"),o=t("asap");e.exports=r,r.denodeify=function(t,e){return"number"===typeof e&&e!==1/0?s(t,e):a(t)};var i="function (err, res) {if (err) { rj(err); } else { rs(res); }}";function s(t,e){for(var n=[],o=0;o<e;o++)n.push("a"+o);var s=["return function ("+n.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(n).concat([i]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],s)(r,t)}function a(t){for(var e=Math.max(t.length-1,3),n=[],o=0;o<e;o++)n.push("a"+o);var s=["return function ("+n.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+e+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+i+";","var res;","switch (argLength) {",n.concat(["extra"]).map((function(t,e){return"case "+e+":res = fn.call("+["self"].concat(n.slice(0,e)).concat("cb").join(",")+");break;"})).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],s)(r,t)}r.nodeify=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="function"===typeof e[e.length-1]?e.pop():null,i=this;try{return t.apply(this,arguments).nodeify(n,i)}catch(s){if(null===n||"undefined"==typeof n)return new r((function(t,e){e(s)}));o((function(){n.call(i,s)}))}}},r.prototype.nodeify=function(t,e){if("function"!=typeof t)return this;this.then((function(n){o((function(){t.call(e,null,n)}))}),(function(n){o((function(){t.call(e,n)}))}))}},{"./core.js":54,asap:8}],60:[function(t,e,n){"use strict";var r=t("./core.js");e.exports=r,r.enableSynchronous=function(){r.prototype.isPending=function(){return 0==this.getState()},r.prototype.isFulfilled=function(){return 1==this.getState()},r.prototype.isRejected=function(){return 2==this.getState()},r.prototype.getValue=function(){if(3===this._V)return this._W.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._W},r.prototype.getReason=function(){if(3===this._V)return this._W.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._W},r.prototype.getState=function(){return 3===this._V?this._W.getState():-1===this._V||-2===this._V?0:this._V}},r.disableSynchronous=function(){r.prototype.isPending=void 0,r.prototype.isFulfilled=void 0,r.prototype.isRejected=void 0,r.prototype.getValue=void 0,r.prototype.getReason=void 0,r.prototype.getState=void 0}},{"./core.js":54}],61:[function(t,n,r){(function(t){(function(){"use strict";var e=256,r=6,o=52,i=[],s="undefined"===typeof t?window:t,a=Math.pow(e,r),c=Math.pow(2,o),u=2*c,f=e-1,l=Math.random;function h(t){var n,r=t.length,o=this,i=0,s=o.i=o.j=0,a=o.S=[];r||(t=[r++]);while(i<e)a[i]=i++;for(i=0;i<e;i++)a[i]=a[s=f&s+t[i%r]+(n=a[i])],a[s]=n;(o.g=function(t){var n,r=0,i=o.i,s=o.j,a=o.S;while(t--)n=a[i=f&i+1],r=r*e+a[f&(a[i]=a[s=f&s+n])+(a[s]=n)];return o.i=i,o.j=s,r})(e)}function p(t,e){var n,r=[],o=(typeof t)[0];if(e&&"o"==o)for(n in t)try{r.push(p(t[n],e-1))}catch(i){}return r.length?r:"s"==o?t:t+"\0"}function d(t,e){var n,r=t+"",o=0;while(o<r.length)e[f&o]=f&(n^=19*e[f&o])+r.charCodeAt(o++);return y(e)}function v(t){try{return s.crypto.getRandomValues(t=new Uint8Array(e)),y(t)}catch(n){return[+new Date,s,s.navigator&&s.navigator.plugins,s.screen,y(i)]}}function y(t){return String.fromCharCode.apply(0,t)}n.exports=function(t,o){if(o&&!0===o.global)return o.global=!1,Math.random=n.exports(t,o),o.global=!0,Math.random;var s=o&&o.entropy||!1,f=[],l=(d(p(s?[t,y(i)]:0 in arguments?t:v(),3),f),new h(f));return d(y(l.S),i),function(){var t=l.g(r),n=a,o=0;while(t<c)t=(t+o)*e,n*=e,o=l.g(1);while(t>=u)t/=2,n/=2,o>>>=1;return(t+o)/n}},n.exports.resetGlobal=function(){Math.random=l},d(Math.random(),i)}).call(this)}).call(this,"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],62:[function(t,e,n){"use strict";var r=t("../prototype/is");e.exports=function(t){if("function"!==typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!==typeof t.length)return!1;if("function"!==typeof t.call)return!1;if("function"!==typeof t.apply)return!1}catch(e){return!1}return!r(t)}},{"../prototype/is":65}],63:[function(t,e,n){"use strict";var r=t("../value/is"),o={object:!0,function:!0,undefined:!0};e.exports=function(t){return!!r(t)&&hasOwnProperty.call(o,typeof t)}},{"../value/is":66}],64:[function(t,e,n){"use strict";var r=t("../function/is"),o=/^\s*class[\s{/}]/,i=Function.prototype.toString;e.exports=function(t){return!!r(t)&&!o.test(i.call(t))}},{"../function/is":62}],65:[function(t,e,n){"use strict";var r=t("../object/is");e.exports=function(t){if(!r(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(e){return!1}}},{"../object/is":63}],66:[function(t,e,n){"use strict";var r=void 0;e.exports=function(t){return t!==r&&null!==t}},{}],67:[function(t,e,n){n=e.exports=function(){for(var t,e="",r=0;r<32;r++)t=16*n.random()|0,r>4&&r<21&&!(r%4)&&(e+="-"),e+=(12===r?4:16===r?3&t|8:t).toString(16);return e};var r=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/;n.isUUID=function(t){return r.test(t)},n.random=function(){return Math.random()}},{}]},{},[28])(28)}))}).call(this,n("c8ba"))},c973:function(t,e,n){function r(t,e,n,r,o,i,s){try{var a=t[i](s),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function a(t){r(s,o,i,a,c,"next",t)}function c(t){r(s,o,i,a,c,"throw",t)}a(void 0)}))}}n("d3b7"),t.exports=o,t.exports["default"]=t.exports,t.exports.__esModule=!0},ed6d:function(t,e,n){var r=n("4a4b");function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}t.exports=o,t.exports["default"]=t.exports,t.exports.__esModule=!0},f8c9:function(t,e,n){var r=n("23e7"),o=n("da84"),i=n("d44e");r({global:!0},{Reflect:{}}),i(o.Reflect,"Reflect",!0)},fd1f:function(t,e,n){var r=n("c973").default,o=n("970b").default,i=n("5bc3").default,s=n("3c96").default,a=n("ed6d").default,c=n("2d0d").default;n("96cf"),n("4de4"),n("d3b7"),n("b0c0");var u=n("a73c"),f=[],l=[{name:"ve:type",value:"virtual"},{name:"ve:size",value:"unlinmited"}],h=function(t){"use strict";a(n,t);var e=c(n);function n(t){var r;return o(this,n),r=e.call(this,t),r.data["ve:properties"]=Object.assign(r.data["ve:properties"],l),console.log(r.data),window.env=s(r),r}return i(n,[{key:"pushAgent",value:function(t){f.push(t),this.updateEnv()}},{key:"removeAgentByName",value:function(t){f=f.filter((function(e){return e.name!=t})),this.updateEnv()}},{key:"getAgents",value:function(){return f}},{key:"save",value:function(){var t=r(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("must save item",e),"vue2"!=this.options.type.toLowerCase()){t.next=6;break}return t.next=4,this.options.store.dispatch("local/saveItem",e);case 4:return t.next=6,this.options.store.dispatch("local/getItems",e);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"updateEnv",value:function(){"vue2"==this.options.type.toLowerCase()&&this.options.store.commit("sma/setAgents",f)}}]),n}(u);t.exports=h}}]);
//# sourceMappingURL=chunk-893c3d5a.09af397d.js.map