{"version":3,"sources":["webpack:///./node_modules/evejs/dist/eve.custom-request.js","webpack:///./src/components/items/Item.vue?1f0a","webpack:///./src/agents/PodAgent.js","webpack:///./src/agents/HelloAgent.js","webpack:///src/components/items/Item.vue","webpack:///./src/components/items/Item.vue?d23f","webpack:///./src/components/items/Item.vue"],"names":["module","exports","f","define","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","this","runClearTimeout","marker","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","Item","array","noop","nextTick","args","Array","arguments","push","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","2","global","root","freeExports","nodeType","freeModule","freeGlobal","window","self","punycode","key","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","errors","baseMinusTMin","floor","Math","stringFromCharCode","String","fromCharCode","error","type","RangeError","map","fn","result","mapDomain","string","parts","split","replace","labels","encoded","join","ucs2decode","value","extra","output","counter","charCodeAt","ucs2encode","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","k","decode","input","out","basic","j","index","oldi","w","baseMinusT","inputLength","bias","lastIndexOf","splice","encode","handledCPCount","basicLength","m","q","currentValue","handledCPCountPlusOne","qMinusT","toUnicode","test","slice","toLowerCase","toASCII","amd","hasOwnProperty","3","obj","prop","Object","qs","sep","eq","options","regexp","maxKeys","kstr","vstr","v","x","idx","indexOf","substr","decodeURIComponent","isArray","xs","toString","4","stringifyPrimitive","isFinite","undefined","objectKeys","ks","encodeURIComponent","res","keys","5","parse","stringify","6","util","Url","protocol","slashes","auth","host","port","hostname","hash","search","query","pathname","path","href","urlParse","resolve","urlResolve","resolveObject","urlResolveObject","format","urlFormat","protocolPattern","portPattern","simplePathPattern","delims","unwise","autoEscape","nonHostChars","hostEndingChars","hostnameMaxLen","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","querystring","url","parseQueryString","slashesDenoteHost","isObject","isString","source","relative","TypeError","queryIndex","splitter","uSplit","slashRegex","rest","trim","simplePath","exec","proto","lowerProto","match","atSign","hostEnd","hec","parseHost","ipv6Hostname","hostparts","l","part","newpart","validParts","notHost","bit","unshift","h","ae","esc","escape","qm","s","charAt","rel","tkeys","tk","tkey","rkeys","rk","rkey","relPath","shift","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","pop","isNullOrUndefined","authInHost","isNull","last","hasTrailingSlash","up","isAbsolute","7","arg","8","rawAsap","freeTasks","pendingErrors","requestErrorThrow","makeRequestCallFromTimer","throwFirstError","asap","task","rawTask","RawTask","onerror","9","requestFlush","capacity","flush","currentIndex","scan","newLength","scope","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","makeRequestCallFromMutationObserver","callback","toggle","observer","node","document","createTextNode","observe","characterData","data","timeoutHandle","handleTimer","intervalHandle","setInterval","clearInterval","10","isValue","isPlainFunction","assign","normalizeOpts","contains","d","dscr","desc","configurable","enumerable","writable","gs","get","set","11","useColors","__nwjs","navigator","userAgent","documentElement","style","WebkitAppearance","console","firebug","exception","table","parseInt","RegExp","$1","formatArgs","namespace","humanize","diff","color","lastC","save","namespaces","storage","setItem","removeItem","load","getItem","DEBUG","localstorage","localStorage","destroy","warned","warn","colors","log","debug","formatters","JSON","message","12","setup","selectColor","createDebug","abs","prevTime","namespacesCache","enabledCache","enableOverride","enabled","curr","Number","Date","ms","prev","coerce","formatter","val","logFn","extend","defineProperty","init","newDebug","enable","names","skips","disable","toNamespace","substring","stack","default","forEach","13","14","15","foo","bar","trzy","16","max","dest","src","17","objPropertyIsEnumerable","propertyIsEnumerable","18","_undefined","19","20","21","object","22","create","opts1","23","24","25","26","str","27","searchString","28","Agent","ServiceManager","TransportManager","RequestModule","transport","LocalTransport","registerType","system","transports","add","getTransportById","id","registerModule","29","Promise","uuid","URL","connections","defaultConnection","ready","_getModuleConstructor","constructor","modules","sort","b","instance","mixin","me","loadModule","additionalOptions","_options","_receive","send","to","colon","_sendByProtocol","at","_to","_transportId","_sendByTransportId","conn","reject","_sendByNetworkId","networkId","connection","transportId","receive","from","oobParams","getUrls","getMyUrl","getUrlByProtocol","connect","_transport","_connect","_updateReady","disconnect","_disconnect","close","all","30","seed","hypertimer","KNOWN_PROPERTIES","timer","random","config","clear","deterministic","31","types","bind","unload","getAll","getByType","filter","32","TIMEOUT","agent","receiveOriginal","envelope","request","response","isPromise","then","catch","err","33","Connection","34","Transport","35","LocalConnection","agents","queryParams","36","37","normalizeURL","38","isEmpty","Boolean","__ee__","39","methods","descriptors","callable","Function","defineProperties","descriptor","listener","__eeOnceListener__","candidate","40","41","42","Debug","43","emitter","hasListeners","createMaster","createSlave","TYPE","INTERVAL","TRIGGER","paced","rate","configuredTime","master","running","startTime","hyperTime","systemNow","timeouts","current","timeoutId","idSeq","server","client","_getConfig","time","_validateConfig","_setConfig","toTimestamp","_rescheduleIntervals","toISOString","newRate","isNaN","now","applyConfig","_schedule","broadcastConfig","_rescheduleInterval","occurrence","round","interval","_queueTimeout","_execTimeout","finish","_getExpiredTimeouts","expired","shuffle","next","delay","realDelay","onTimeout","date","valueOf","realInterval","hyperInterval","pause","getTime","timestamp","setTrigger","_interval","_firstTime","_time","clearTrigger","list","continue","44","WebSocket","45","Server","sanitizedConfig","ws","_emitter","broadcast","event","clients","46","stat","DELAY","REPEAT","slave","isFirst","isDestroyed","syncTimer","sync","getLatencyAndWait","getLatency","latency","wait","repeat","latencies","limit","median","std","filtered","mean","start","end","onopen","47","eventEmitter","socket","getId","onmessage","reply","readyState","OPEN","CONNECTING","_id","48","compare","sum","arr","reduce","sqrt","variance","_mean","pow","sorted","49","times","count","results","recurse","whilst","condition","50","51","52","y","parseFloat","fmtShort","msAbs","fmtLong","plural","isPlural","long","53","54","LAST_ERROR","IS_ERROR","getThen","ex","tryCallOne","tryCallTwo","_U","_V","_W","_X","doResolve","safeThen","onFulfilled","onRejected","handle","Handler","deferred","_Y","handleResolved","cb","ret","promise","newValue","finale","_Z","done","reason","_0","55","56","TRUE","valuePromise","FALSE","NULL","UNDEFINED","ZERO","EMPTYSTRING","iterableToArray","iterable","remaining","race","values","57","finally","58","59","denodeify","argumentCount","Infinity","denodeifyWithCount","denodeifyWithoutCount","callbackFn","body","fnLength","_","nodeify","ctx","60","enableSynchronous","isPending","getState","isFulfilled","isRejected","getValue","getReason","disableSynchronous","61","width","chunks","digits","pool","GLOBAL","startdenom","significance","overflow","mask","oldRandom","ARC4","keylen","S","g","flatten","depth","typ","mixkey","smear","stringseed","tostring","autoseed","crypto","getRandomValues","Uint8Array","plugins","screen","use_entropy","entropy","arc4","resetGlobal","62","isPrototype","63","possibleTypes","64","isFunction","classRe","functionToString","65","66","67","uuidRegex","isUUID","render","_vm","_h","$createElement","_c","_self","_v","_s","item","attrs","$event","$emit","putOnline","staticRenderFns","PodAgent","eve","HelloAgent","sayHello","retour","mess","action","Vue","$getResource","file","$updateFile","props","components","created","agent3","agent4","podAgent1","content","component"],"mappings":"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","file":"js/chunk-0e26ad4e.8576d40d.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.eve = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],2:[function(require,module,exports){\n(function (global){(function (){\n/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n\n}).call(this)}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],3:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\n},{}],4:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n\n},{\"./decode\":3,\"./encode\":4}],6:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n\n},{\"./util\":7,\"punycode\":2,\"querystring\":5}],7:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n\n},{}],8:[function(require,module,exports){\n\"use strict\";\n\n// rawAsap provides everything we need except exception management.\nvar rawAsap = require(\"./raw\");\n// RawTasks are recycled to reduce GC churn.\nvar freeTasks = [];\n// We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n    if (pendingErrors.length) {\n        throw pendingErrors.shift();\n    }\n}\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nmodule.exports = asap;\nfunction asap(task) {\n    var rawTask;\n    if (freeTasks.length) {\n        rawTask = freeTasks.pop();\n    } else {\n        rawTask = new RawTask();\n    }\n    rawTask.task = task;\n    rawAsap(rawTask);\n}\n\n// We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\nfunction RawTask() {\n    this.task = null;\n}\n\n// The sole purpose of wrapping the task is to catch the exception and recycle\n// the task object after its single use.\nRawTask.prototype.call = function () {\n    try {\n        this.task.call();\n    } catch (error) {\n        if (asap.onerror) {\n            // This hook exists purely for testing purposes.\n            // Its name will be periodically randomized to break any code that\n            // depends on its existence.\n            asap.onerror(error);\n        } else {\n            // In a web browser, exceptions are not fatal. However, to avoid\n            // slowing down the queue of pending tasks, we rethrow the error in a\n            // lower priority turn.\n            pendingErrors.push(error);\n            requestErrorThrow();\n        }\n    } finally {\n        this.task = null;\n        freeTasks[freeTasks.length] = this;\n    }\n};\n\n},{\"./raw\":9}],9:[function(require,module,exports){\n(function (global){(function (){\n\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nvar scope = typeof global !== \"undefined\" ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.js’s\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n}).call(this)}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],10:[function(require,module,exports){\n\"use strict\";\n\nvar isValue         = require(\"type/value/is\")\n  , isPlainFunction = require(\"type/plain-function/is\")\n  , assign          = require(\"es5-ext/object/assign\")\n  , normalizeOpts   = require(\"es5-ext/object/normalize-options\")\n  , contains        = require(\"es5-ext/string/#/contains\");\n\nvar d = (module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif (arguments.length < 2 || typeof dscr !== \"string\") {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t\tw = contains.call(dscr, \"w\");\n\t} else {\n\t\tc = w = true;\n\t\te = false;\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n});\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== \"string\") {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (!isValue(get)) {\n\t\tget = undefined;\n\t} else if (!isPlainFunction(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (!isValue(set)) {\n\t\tset = undefined;\n\t} else if (!isPlainFunction(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t} else {\n\t\tc = true;\n\t\te = false;\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n\n},{\"es5-ext/object/assign\":14,\"es5-ext/object/normalize-options\":22,\"es5-ext/string/#/contains\":25,\"type/plain-function/is\":64,\"type/value/is\":66}],11:[function(require,module,exports){\n(function (process){(function (){\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n\n}).call(this)}).call(this,require('_process'))\n},{\"./common\":12,\"_process\":1}],12:[function(require,module,exports){\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n\n},{\"ms\":52}],13:[function(require,module,exports){\n\"use strict\";\n\n// eslint-disable-next-line no-empty-function\nmodule.exports = function () {};\n\n},{}],14:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.assign : require(\"./shim\");\n\n},{\"./is-implemented\":15,\"./shim\":16}],15:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== \"function\") return false;\n\tobj = { foo: \"raz\" };\n\tassign(obj, { bar: \"dwa\" }, { trzy: \"trzy\" });\n\treturn obj.foo + obj.bar + obj.trzy === \"razdwatrzy\";\n};\n\n},{}],16:[function(require,module,exports){\n\"use strict\";\n\nvar keys  = require(\"../keys\")\n  , value = require(\"../valid-value\")\n  , max   = Math.max;\n\nmodule.exports = function (dest, src/*, …srcn*/) {\n\tvar error, i, length = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry {\n\t\t\tdest[key] = src[key];\n\t\t} catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < length; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n\n},{\"../keys\":19,\"../valid-value\":24}],17:[function(require,module,exports){\n\"use strict\";\n\nvar value                   = require(\"./valid-value\")\n  , objPropertyIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nmodule.exports = function (obj) {\n\tvar i;\n\tvalue(obj);\n\tfor (i in obj) {\n\t\t// Jslint: ignore\n\t\tif (objPropertyIsEnumerable.call(obj, i)) return false;\n\t}\n\treturn true;\n};\n\n},{\"./valid-value\":24}],18:[function(require,module,exports){\n\"use strict\";\n\nvar _undefined = require(\"../function/noop\")(); // Support ES3 engines\n\nmodule.exports = function (val) { return val !== _undefined && val !== null; };\n\n},{\"../function/noop\":13}],19:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.keys : require(\"./shim\");\n\n},{\"./is-implemented\":20,\"./shim\":21}],20:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys(\"primitive\");\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\n},{}],21:[function(require,module,exports){\n\"use strict\";\n\nvar isValue = require(\"../is-value\");\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) { return keys(isValue(object) ? Object(object) : object); };\n\n},{\"../is-value\":18}],22:[function(require,module,exports){\n\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (opts1/*, …options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (!isValue(options)) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n\n},{\"./is-value\":18}],23:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== \"function\") throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n\n},{}],24:[function(require,module,exports){\n\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n\n},{\"./is-value\":18}],25:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? String.prototype.contains : require(\"./shim\");\n\n},{\"./is-implemented\":26,\"./shim\":27}],26:[function(require,module,exports){\n\"use strict\";\n\nvar str = \"razdwatrzy\";\n\nmodule.exports = function () {\n\tif (typeof str.contains !== \"function\") return false;\n\treturn str.contains(\"dwa\") === true && str.contains(\"foo\") === false;\n};\n\n},{}],27:[function(require,module,exports){\n\"use strict\";\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString/*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n\n},{}],28:[function(require,module,exports){\nexports.Agent = require('./lib/Agent');\nexports.ServiceManager = require('./lib/ServiceManager');\nexports.TransportManager = require('./lib/TransportManager');\nvar RequestModule = require('./lib/module/RequestModule');\n\n\nexports.transport = {\n  LocalTransport:     require('./lib/transport/local/LocalTransport')\n};\n\nexports.TransportManager.registerType(exports.transport.LocalTransport);\n\n// load the default ServiceManager, a singleton, initialized with a LocalTransport\nexports.system = new exports.ServiceManager();\nexports.system.transports.add(new exports.transport.LocalTransport());\n\n// override Agent.getTransportById in order to support Agent.connect(transportId)\nexports.Agent.getTransportById = function (id) {\n  return exports.system.transports.get(id);\n};\n\nexports.Agent.registerModule(RequestModule);\n\n},{\"./lib/Agent\":29,\"./lib/ServiceManager\":30,\"./lib/TransportManager\":31,\"./lib/module/RequestModule\":32,\"./lib/transport/local/LocalTransport\":36}],29:[function(require,module,exports){\n'use strict';\n\nvar Promise = require('promise');\nvar uuid = require('uuid-v4');\nvar util = require('./util');\nvar URL = require('url');\n\n/**\n * Agent\n * @param {string} [id]         Id for the agent. If not provided, the agent\n *                              will be given a uuid.\n * @constructor\n */\nfunction Agent(id) {\n  this.id = id ? id.toString() : uuid();\n\n  // a list with all connected transports\n  this.connections = [];\n  this.defaultConnection = null;\n  this.ready = Promise.resolve([]);\n}\n\n// an object with modules which can be used to extend the agent\nAgent.modules = {};\n\n/**\n * Register a new type of module. This module can then be loaded via\n * Agent.extend() and Agent.loadModule().\n * @param {Function} constructor     A module constructor\n */\nAgent.registerModule = function (constructor) {\n  var type = constructor.prototype.type;\n  if (typeof constructor !== 'function') {\n    throw new Error('Constructor function expected');\n  }\n  if (!type) {\n    throw new Error('Field \"prototype.type\" missing in transport constructor');\n  }\n  if (type in Agent.modules) {\n    if (Agent.modules[type] !== constructor) {\n      throw new Error('Module of type \"' + type + '\" already exists');\n    }\n  }\n\n  Agent.modules[type] = constructor;\n};\n\n/**\n * Get a transport by id.\n * This static method can be overloaded for example by the get function of\n * a singleton TransportManager.\n * @param {string} id\n * @return {Transport}\n */\nAgent.getTransportById = function (id) {\n  throw new Error('Transport with id \"' + id + '\" not found');\n};\n\n/**\n * Extend an agent with modules (mixins).\n * The modules new functions are added to the Agent itself.\n * See also function `loadModule`.\n * @param {string | string[]} module  A module name or an Array with module\n *                                    names. Available modules:\n *                                    'pattern', 'request', 'babble'\n * @param {Object} [options]          Additional options for loading the module\n * @return {Agent} Returns the agent itself\n */\nAgent.prototype.extend = function (module, options) {\n  if (Array.isArray(module)) {\n    var modules = [].concat(module);\n\n    // order the modules such that 'pattern' comes first, this module must be\n    // loaded before other modules ('request' specifically)\n    modules.sort(function (a, b) {\n      if (a == 'pattern') return -1;\n      if (b == 'pattern') return 1;\n      return 0;\n    });\n\n    // an array with module names\n    for (var i = 0; i < modules.length; i++) {\n      this.extend(modules[i], options)\n    }\n  }\n  else {\n    // a single module name\n    var constructor = _getModuleConstructor(module);\n    var instance = new constructor(this, options);\n    var mixin = instance.mixin();\n\n    // check for conflicts in the modules mixin functions\n    var me = this;\n    Object.keys(mixin).forEach(function (name) {\n      if (me[name] !== undefined && name !== '_receive') {\n        throw new Error('Conflict: agent already has a property \"' + prop + '\"');\n      }\n    });\n\n    // extend the agent with all mixin functions provided by the module\n    Object.keys(mixin).forEach(function (name) {\n      me[name] = mixin[name];\n    });\n  }\n\n  return this;\n};\n\n/**\n * Load a module onto an agent.\n * See also function `extend`.\n * @param {string | string[]} module  A module name or an Array with module\n *                                    names. Available modules:\n *                                    'pattern', 'request', 'babble'\n * @param {Object} [options]          Additional options for loading the module\n * @return {Object} Returns the created module\n */\nAgent.prototype.loadModule = function (module, options, additionalOptions) {\n  var _options = options !== undefined ? Object.create(options) : {};\n  _options.extend = false;\n\n  var constructor = _getModuleConstructor(module);\n  var instance = new constructor(this, options, additionalOptions);\n  var mixin = instance.mixin();\n\n  // only replace the _receive function, do not add other mixin functions\n  this._receive = mixin._receive;\n\n  return instance;\n};\n\n/**\n * Get a module constructor by it's name.\n * Throws an error when the module is not found.\n * @param {string} name\n * @return {function} Returns the modules constructor function\n * @private\n */\nfunction _getModuleConstructor(name) {\n  var constructor = Agent.modules[name];\n  if (!constructor) {\n    throw new Error('Unknown module \"' + name + '\". ' +\n      'Choose from: ' + Object.keys(Agent.modules).map(JSON.stringify).join(', '));\n  }\n  return constructor;\n}\n\n/**\n * Send a message to an agent\n * @param {string} to\n *              to is either:\n *              - A string \"agentId\", the id of the recipient. Will be send\n *                via the default transport or when there is no default\n *                transport via the first connected transport.\n *              - A string \"agentId@transportId\" Only usable locally, not\n *                for sharing an address with remote agents.\n *              - A string \"protocol://networkId/agentId\". This is a sharable\n *                identifier for an agent.\n * @param {*} message  Message to be send\n * @return {Promise} Returns a promise which resolves when the message as\n *                   successfully been sent, or rejected when sending the\n *                   message failed\n */\nAgent.prototype.send = function (to, message) {\n\n  var colon = to.indexOf(':');\n  if (colon !== -1) {\n    var url = URL.parse(to);\n\n    //TODO: Fix this for protocols that use networkId instead of host (Needs to be fixed in the protocol itself.)\n    return this._sendByProtocol(url.protocol.slice(0, -1), to, message);\n  }\n\n  // TODO: deprecate this notation \"agentId@transportId\"?\n  var at = to.indexOf('@');\n  if (at != -1) {\n    // to is an id like \"agentId@transportId\"\n    var _to = to.substring(0, at);\n    var _transportId = to.substring(at + 1);\n    return this._sendByTransportId(_transportId, _to, message);\n  }\n\n  // to is an id like \"agentId\". Send via the default transport\n  var conn = this.defaultConnection;\n  if (conn) {\n    return conn.send(to, message);\n  }\n  else {\n    return Promise.reject(new Error('No transport found'));\n  }\n};\n\n/**\n * Send a transport to an agent given a networkId\n * @param {string} networkId    A network id\n * @param {string} to           An agents id\n * @param {string} message      Message to be send\n * @return {Promise} Returns a promise which resolves when the message as\n *                   successfully been sent, or rejected when sending the\n *                   message failed\n * @private\n */\nAgent.prototype._sendByNetworkId = function (networkId, to, message) {\n  // TODO: change this.connections to a map with networkId as keys, much faster\n  for (var i = 0; i < this.connections.length; i++) {\n    var connection = this.connections[i];\n    if (connection.transport.networkId == networkId) {\n      return connection.send(to, message);\n    }\n  }\n\n  return Promise.reject(new Error('No transport found with networkId \"' + networkId + '\"'));\n};\n\n/**\n * Send a message by a transport by protocol.\n * The message will be send via the first found transport having the specified\n * protocol.\n * @param {string} protocol     A protocol, for example 'http' or 'ws'\n * @param {string} to           An agents id\n * @param {string} message      Message to be send\n * @return {Promise} Returns a promise which resolves when the message as\n *                   successfully been sent, or rejected when sending the\n *                   message failed\n * @private\n */\nAgent.prototype._sendByProtocol = function (protocol, to, message) {\n\n  // the https addresses also make use of the http protocol.\n  protocol = protocol == 'https' ? 'http' : protocol;\n\n  for (var i = 0; i < this.connections.length; i++) {\n    var connection = this.connections[i];\n    if (connection.transport.type == protocol) {\n      return connection.send(to, message);\n    }\n  }\n\n  return Promise.reject(new Error('No transport found for protocol \"' + protocol + '\"'));\n};\n\n/**\n * Send a transport to an agent via a specific transport\n * @param {string} transportId  The configured id of a transport.\n * @param {string} to           An agents id\n * @param {string} message      Message to be send\n * @return {Promise} Returns a promise which resolves when the message as\n *                   successfully been sent, or rejected when sending the\n *                   message failed\n * @private\n */\nAgent.prototype._sendByTransportId = function (transportId, to, message) {\n  for (var i = 0; i < this.connections.length; i++) {\n    var connection = this.connections[i];\n    if (connection.transport.id == transportId) {\n      return connection.send(to, message);\n    }\n  }\n\n  return Promise.reject(new Error('No transport found with id \"' + transportId + '\"'));\n};\n\n/**\n * Receive a message.\n * @param {string} from     Id of sender\n * @param {*} message       Received message, a JSON object (often a string)\n */\nAgent.prototype.receive = function (from, message, oobParams) {\n  // ... to be overloaded\n};\n\n/**\n * The method _receive is overloaded in a cascaded way by modules, and calls\n * the public method Agent.receive at the end of the chain.\n * @param {string} from     Id of sender\n * @param {*} message       Received message, a JSON object (often a string)\n * @param {array} oobParams Optional Out of Band parameters, e.g. query params for http\n * @returns {*} Returns the return value of Agent.receive\n * @private\n */\nAgent.prototype._receive = function (from, message, oobParams) {\n  return this.receive(from, message);\n};\n\nAgent.prototype.getUrls = function () {\n  return this.connections.map(function (connection) {\n    return connection.getMyUrl()\n  });\n};\n\nAgent.prototype.getUrlByProtocol = function (protocol) {\n  for (var i = 0; i < this.connections.length; i++) {\n    var connection = this.connections[i];\n    if (connection.transport.type == protocol) {\n      return connection.getMyUrl();\n    }\n  }\n};\n\n/**\n * Connect to a transport. The agent will subscribe itself to\n * messages sent to his id.\n * @param {string | Transport | Transport[] | string[]} transport\n *                                  A Transport instance, or the id of a\n *                                  transport loaded in eve.system.\n * @param {string} [id]             An optional alternative id to be used\n *                                  for the connection. By default, the agents\n *                                  own id is used.\n * @return {Connection | Connection[]}  Returns a connection or, in case of\n *                                      multiple transports, returns an\n *                                      array with connections. The connections\n *                                      have a promise .ready which resolves\n *                                      as soon as the connection is ready for\n *                                      use.\n */\nAgent.prototype.connect = function (transport, id) {\n  if (Array.isArray(transport)) {\n    var me = this;\n    return transport.map(function (_transport) {\n        try {\n          return me._connect(_transport, id);\n        } catch (e) {\n          return {error: e}\n        }\n      }\n    );\n  }\n  else if (typeof transport === 'string') {\n    // get transport by id\n    try {\n      return this._connect(Agent.getTransportById(transport), id);\n    } catch (e) {\n      return {error: e}\n    }\n  }\n  else {\n    // a transport instance\n    try {\n      return this._connect(transport, id);\n    } catch (e) {\n      return {error: e}\n    }\n  }\n};\n\n/**\n * Connect to a transport\n * @param {Transport} transport     A Transport instance\n * @param {string} [id]             An optional alternative id to be used\n *                                  for the connection. By default, the agents\n *                                  own id is used.\n * @return {Connection}             Returns a connection.\n * @private\n */\nAgent.prototype._connect = function (transport, id) {\n  // create a receive function which is bound to the _receive function.\n  // the _receive function can be replaced in by modules in a cascaded way,\n  // and in the end calls this.receive of the agent.\n  // note: we don't do receive = this._receive.bind(this) as the _receive\n  //       function can be overloaded after a connection is made.\n  var me = this;\n  var receive = function (from, message, oobParams) {\n    return me._receive(from, message, oobParams);\n  };\n  var connection = transport.connect(id || this.id, receive);\n  this.connections.push(connection);\n\n  // set or replace the defaultConnection\n  if (!this.defaultConnection) {\n    this.defaultConnection = connection;\n  }\n  else if (transport['default']) {\n    if (this.defaultConnection['default']) {\n      throw new Error('Cannot connect to a second default transport');\n    }\n    this.defaultConnection = connection;\n  }\n\n  this._updateReady();\n\n  return connection;\n};\n\n/**\n * Disconnect from one or multiple transports\n * @param {string | Transport | string[] | Transport[]} [transport]\n *              A transport or an array with transports.\n *              parameter transport can be an instance of a Transport, or the\n *              id of a transport.\n *              When transport is undefined, the agent will be disconnected\n *              from all connected transports.\n */\nAgent.prototype.disconnect = function (transport) {\n  var i, connection;\n\n  if (!transport) {\n    // disconnect all transports\n    while (connection = this.connections[0]) {\n      this._disconnect(connection);\n    }\n  }\n  else if (Array.isArray(transport)) {\n    // an array with transports\n    i = 0;\n    while (i < this.connections.length) {\n      connection = this.connections[i];\n      if (transport.indexOf(connection.transport) !== -1) {\n        this._disconnect(connection);\n      }\n      else {\n        i++;\n      }\n    }\n  }\n  else if (typeof transport === 'string') {\n    // transport by id\n    this.disconnect(Agent.getTransportById(transport));\n  }\n  else {\n    // a single transport\n    for (i = 0; i < this.connections.length; i++) {\n      connection = this.connections[i];\n      if (connection.transport === transport) {\n        this._disconnect(connection);\n        break;\n      }\n    }\n  }\n};\n\n/**\n * Close a connection\n * @param {Connection} connection\n * @private\n */\nAgent.prototype._disconnect = function (connection) {\n  // find the connection\n  var index = this.connections.indexOf(connection);\n  if (index !== -1) {\n    // close the connection\n    connection.close();\n\n    // remove from the list with connections\n    this.connections.splice(index, 1);\n\n    // replace the defaultConnection if needed\n    if (this.defaultConnection === connection) {\n      this.defaultConnection = this.connections[this.connections.length - 1] || null;\n    }\n  }\n\n  this._updateReady();\n};\n\n/**\n * Update the ready state of the agent\n * @private\n */\nAgent.prototype._updateReady = function () {\n  // FIXME: we should not replace with a new Promise,\n  //        we have a problem when this.ready is requested before ready,\n  //        and another connection is opened before ready\n  this.ready = Promise.all(this.connections.map(function (connection) {\n    return connection.ready;\n  }));\n};\n\nmodule.exports = Agent;\n\n},{\"./util\":37,\"promise\":53,\"url\":6,\"uuid-v4\":67}],30:[function(require,module,exports){\n'use strict';\n\nvar seed = require('seed-random');\nvar hypertimer = require('hypertimer');\nvar TransportManager = require('./TransportManager');\n\n// map with known configuration properties\nvar KNOWN_PROPERTIES = {\n  transports: true,\n  timer: true,\n  random: true\n};\n\nfunction ServiceManager(config) {\n  this.transports = new TransportManager();\n\n  this.timer = hypertimer();\n\n  this.random = Math.random;\n\n  this.init(config);\n}\n\n/**\n * Initialize the service manager with services loaded from a configuration\n * object. All current services are unloaded and removed.\n * @param {Object} config\n */\nServiceManager.prototype.init = function (config) {\n  this.transports.clear();\n\n  if (config) {\n    if (config.transports) {\n      this.transports.load(config.transports);\n    }\n\n    if (config.timer) {\n      this.timer.config(config.timer);\n    }\n\n    if (config.random) {\n      if (config.random.deterministic) {\n        var key = config.random.seed || 'random seed';\n        this.random = seed(key, config.random);\n      }\n      else {\n        this.random = Math.random;\n      }\n    }\n\n    for (var prop in config) {\n      if (config.hasOwnProperty(prop) && !KNOWN_PROPERTIES[prop]) {\n        // TODO: should log this warning via a configured logger\n        console.log('WARNING: Unknown configuration option \"' + prop + '\"')\n      }\n    }\n  }\n};\n\n/**\n * Clear all configured services\n */\nServiceManager.prototype.clear = function () {\n  this.transports.clear();\n};\n\nmodule.exports = ServiceManager;\n\n},{\"./TransportManager\":31,\"hypertimer\":40,\"seed-random\":61}],31:[function(require,module,exports){\n'use strict';\n\n/**\n * A manager for loading and finding transports.\n * @param {Array} [config]      Optional array containing configuration objects\n *                             for transports.\n * @constructor\n */\nfunction TransportManager(config) {\n  this.transports = [];\n\n  if (config) {\n    this.load(config);\n  }\n}\n\n// map with all registered types of transports\n// each transport must register itself at the TransportManager using registerType.\nTransportManager.types = {};\n\n/**\n * Register a new type of transport. This transport can then be loaded via\n * configuration.\n * @param {Transport.prototype} constructor     A transport constructor\n */\nTransportManager.registerType = function (constructor) {\n  var type = constructor.prototype.type;\n  if (typeof constructor !== 'function') {\n    throw new Error('Constructor function expected');\n  }\n  if (!type) {\n    throw new Error('Field \"prototype.type\" missing in transport constructor');\n  }\n  if (type in TransportManager.types) {\n    if (TransportManager.types[type] !== constructor) {\n      throw new Error('Transport type \"' + type + '\" already exists');\n    }\n  }\n\n  TransportManager.types[type] = constructor;\n};\n\n/**\n * Add a loaded transport to the manager\n * @param {Transport} transport\n * @return {Transport} returns the transport itself\n */\nTransportManager.prototype.add = function (transport) {\n  this.transports.push(transport);\n  return transport;\n};\n\n/**\n * Load one or multiple transports based on JSON configuration.\n * New transports will be appended to current transports.\n * @param {Object | Array} config\n * @return {Transport | Transport[]} Returns the loaded transport(s)\n */\nTransportManager.prototype.load = function (config) {\n  if (Array.isArray(config)) {\n    return config.map(this.load.bind(this));\n  }\n\n  var type = config.type;\n  if (!type) {\n    throw new Error('Property \"type\" missing');\n  }\n\n  var constructor = TransportManager.types[type];\n  if (!constructor) {\n    throw new Error('Unknown type of transport \"' + type + '\". ' +\n        'Choose from: ' + Object.keys(TransportManager.types).join(','))\n  }\n\n  var transport = new constructor(config);\n  this.transports.push(transport);\n  return transport;\n};\n\n/**\n * Unload a transport.\n * @param {Transport | Transport[] | string | string[]} transport\n *              A Transport instance or the id of a transport, or an Array\n *              with transports or transport ids.\n */\nTransportManager.prototype.unload = function (transport) {\n  var _transport;\n  if (typeof transport === 'string') {\n    _transport = this.get(transport);\n  }\n  else if (Array.isArray(transport)) {\n    for (var i = 0; i < transport.length; i++) {\n      this.unload(transport[i]);\n    }\n  }\n  else {\n    _transport = transport;\n  }\n\n  if (_transport) {\n    _transport.close();\n\n    var index = this.transports.indexOf(_transport);\n    if (index !== -1) {\n      this.transports.splice(index, 1);\n    }\n  }\n};\n\n/**\n * Get a transport by its id. The transport must have been created with an id\n * @param {string} [id] The id of a transport\n * @return {Transport} Returns the transport when found. Throws an error\n *                     when not found.\n */\nTransportManager.prototype.get = function (id) {\n  for (var i = 0; i < this.transports.length; i++) {\n    var transport = this.transports[i];\n    if (transport.id === id) {\n      return transport;\n    }\n  }\n\n  throw new Error('Transport with id \"' + id + '\" not found');\n};\n\n/**\n * Get all transports.\n * @return {Transport[]} Returns an array with all loaded transports.\n */\nTransportManager.prototype.getAll = function () {\n  return this.transports.concat([]);\n};\n\n/**\n * Find transports by type.\n * @param {string} [type]   Type of the transport. Choose from 'amqp',\n *                          'distribus', 'local', 'pubnub'.\n * @return {Transport[]}    When type is defined, the all transports of this\n *                          type are returned. When undefined, all transports\n *                          are returned.\n */\nTransportManager.prototype.getByType = function (type) {\n  if (type) {\n    if (!(type in TransportManager.types)) {\n      throw new Error('Unknown type of transport \"' + type + '\". ' +\n          'Choose from: ' + Object.keys(TransportManager.types).join(','))\n    }\n\n    return this.transports.filter(function (transport) {\n      return transport.type === type;\n    });\n  }\n  else {\n    return [].concat(this.transports);\n  }\n};\n\n/**\n * Close all configured transports and remove them from the manager.\n */\nTransportManager.prototype.clear = function () {\n  this.transports.forEach(function (transport) {\n    transport.close();\n  });\n  this.transports = [];\n};\n\nmodule.exports = TransportManager;\n\n},{}],32:[function(require,module,exports){\n'use strict';\n\nvar uuid = require('uuid-v4');\nvar Promise = require('promise');\nvar util = require('../util');\n\nvar TIMEOUT = 60000; // ms\n\n/**\n * Create a Request module.\n * The module attaches a handler to the agents _receive function.\n * Creates a Request instance with function `request`.\n * @param {Agent} agent\n * @param {Object} [options]   Optional parameters. Can contain properties:\n *                            - timeout: number   A timeout for responses in\n *                                                milliseconds. 60000 ms by\n *                                                default.\n */\nfunction RequestModule(agent, options) {\n  this.agent = agent;\n  this.receiveOriginal = agent._receive;\n  this.timeout = options && options.timeout || TIMEOUT;\n  this.queue = [];\n}\n\nRequestModule.prototype.type = 'request';\n\n/**\n * Event handler, handles incoming messages\n * @param {String} from     Id of the sender\n * @param {*} message\n * @return {boolean} Returns true when a message is handled, else returns false\n */\nRequestModule.prototype.receive = function (from, message, oobParams) {\n  var agent = this.agent;\n\n  if (typeof message === 'object') {\n    var envelope = message;\n\n    // match the request from the id in the response\n    var request = this.queue[envelope.id];\n    if (request) {\n      // remove the request from the queue\n      clearTimeout(request.timeout);\n      delete this.queue[envelope.id];\n\n      // resolve the requests promise with the response message\n      if (envelope.error) {\n        // TODO: turn this into an Error instance again\n        request.reject(new Error(envelope.error));\n      }\n      else {\n        request.resolve(envelope.message);\n      }\n      return true;\n    }\n    else if (message.type == 'request') {\n      try {\n        var response = this.receiveOriginal.call(agent, from, message.message, oobParams);\n        if (util.isPromise(response)) {\n          // wait until the promise resolves\n          response\n              .then(function (result) {\n                agent.send(from, {type: 'request', id: message.id, message: result});\n              })\n              .catch(function (err) {\n                agent.send(from, {type: 'request', id: message.id, error: err.message || err.toString()});\n              });\n        }\n        else {\n          // immediately send a result\n          agent.send(from, {type: 'request', id: message.id, message: response });\n        }\n      }\n      catch (err) {\n        agent.send(from, {type: 'request', id: message.id, error: err.message || err.toString()});\n      }\n    }\n  }\n  else {\n    if (this.receiveOriginal) {\n      this.receiveOriginal.call(agent, from, message, oobParams);\n    }\n  }\n};\n\n/**\n * Send a request\n * @param {string} to   Id of the recipient\n * @param {*} message\n * @returns {Promise.<*, Error>} Returns a promise resolving with the response message\n */\nRequestModule.prototype.request = function (to, message) {\n  var me = this;\n  return new Promise(function (resolve, reject) {\n    // put the data in an envelope with id\n    var id = uuid();\n    var envelope = {\n      type: 'request',\n      id: id,\n      message: message\n    };\n\n    // add the request to the list with requests in progress\n    me.queue[id] = {\n      resolve: resolve,\n      reject: reject,\n      timeout: setTimeout(function () {\n        delete me.queue[id];\n        reject(new Error('Timeout'));\n      }, me.timeout)\n    };\n\n    me.agent.send(to, envelope)\n        .catch(function (err) {\n          reject(err);\n        });\n  });\n};\n\n/**\n * Get a map with mixin functions\n * @return {{_receive: function, request: function}}\n *            Returns mixin function, which can be used to extend the agent.\n */\nRequestModule.prototype.mixin = function () {\n  return {\n    _receive: this.receive.bind(this),\n    request: this.request.bind(this)\n  }\n};\n\nmodule.exports = RequestModule;\n\n},{\"../util\":37,\"promise\":53,\"uuid-v4\":67}],33:[function(require,module,exports){\n'use strict';\n\nvar Promise = require('promise');\n\n/**\n * An abstract Transport connection\n * @param {Transport} transport\n * @param {string} id\n * @param {function} receive\n * @constructor\n * @abstract\n */\nfunction Connection (transport, id, receive) {\n  throw new Error('Cannot create an abstract Connection');\n}\n\nConnection.prototype.ready = Promise.reject(new Error('Cannot get abstract property ready'));\n\n/**\n * Send a message to an agent.\n * @param {string} to\n * @param {*} message\n * @return {Promise} returns a promise which resolves when the message has been sent\n */\nConnection.prototype.send = function (to, message) {\n  throw new Error('Cannot call abstract function send');\n};\n\n/**\n * Close the connection, disconnect from the transport.\n */\nConnection.prototype.close = function () {\n  throw new Error('Cannot call abstract function \"close\"');\n};\n\nConnection.prototype.getMyUrl = function(){\n  return this.transport.type +\":\"+this.id;\n};\n\nmodule.exports = Connection;\n\n},{\"promise\":53}],34:[function(require,module,exports){\n'use strict';\n\n/**\n * Abstract prototype of a transport\n * @param {Object} [config]\n * @constructor\n */\nfunction Transport(config) {\n  this.id = config && config.id || null;\n  this['default'] = config && config['default'] || false;\n}\n\nTransport.prototype.type = null;\n\n/**\n * Connect an agent\n * @param {String} id\n * @param {Function} receive  Invoked as receive(from, message)\n * @return {Connection}       Returns a connection\n */\nTransport.prototype.connect = function(id, receive) {\n  throw new Error('Cannot invoke abstract function \"connect\"');\n};\n\n/**\n * Close the transport\n */\nTransport.prototype.close = function() {\n  throw new Error('Cannot invoke abstract function \"close\"');\n};\n\nmodule.exports = Transport;\n\n},{}],35:[function(require,module,exports){\n'use strict';\n\nvar Promise = require('promise');\nvar Connection = require('../Connection');\n\n/**\n * A local connection.\n * @param {LocalTransport} transport\n * @param {string | number} id\n * @param {function} receive\n * @constructor\n */\nfunction LocalConnection(transport, id, receive) {\n  this.transport = transport;\n  this.id = id;\n\n  // register the agents receive function\n  if (this.id in this.transport.agents) {\n    throw new Error('Agent with id ' + id + ' already exists');\n  }\n  this.transport.agents[this.id] = receive;\n\n  // ready state\n  this.ready = Promise.resolve(this);\n}\n\nLocalConnection.prototype.getMyUrl = function(){\n  return this.transport.type +\":\"+this.id;\n};\n\n/**\n * Send a message to an agent.\n * @param {string} to\n * @param {*} message\n * @return {Promise} returns a promise which resolves when the message has been sent\n */\nLocalConnection.prototype.send = function (to, message) {\n  var query = to.replace(\"local:\",\"\").split(\"?\");\n  var callback = this.transport.agents[query[0]];\n  if (!callback) {\n    return Promise.reject(new Error('Agent with id ' + to + ' not found'));\n  }\n\n  var queryParams = query[1] ? query[1].split(\"&\"):[];\n  // invoke the agents receiver as callback(from, message, queryparameters)\n  callback(\"local:\"+this.id, message, queryParams);\n\n  return Promise.resolve();\n};\n\n/**\n * Close the connection\n */\nLocalConnection.prototype.close = function () {\n  delete this.transport.agents[this.id];\n};\n\nmodule.exports = LocalConnection;\n\n},{\"../Connection\":33,\"promise\":53}],36:[function(require,module,exports){\n'use strict';\n\nvar Transport = require('./../Transport');\nvar LocalConnection = require('./LocalConnection');\n\n/**\n * Create a local transport.\n * @param {Object} config         Config can contain the following properties:\n *                                - `id: string`. Optional\n * @constructor\n */\nfunction LocalTransport(config) {\n  this.id = config && config.id || null;\n  this.networkId = this.id || null;\n  this['default'] = config && config['default'] || false;\n  this.agents = {};\n}\n\nLocalTransport.prototype = new Transport();\n\nLocalTransport.prototype.type = 'local';\n\n/**\n * Connect an agent\n * @param {String} id\n * @param {Function} receive                  Invoked as receive(from, message)\n * @return {LocalConnection} Returns a promise which resolves when\n *                                                connected.\n */\nLocalTransport.prototype.connect = function(id, receive) {\n  return new LocalConnection(this, id, receive);\n};\n\n/**\n * Close the transport. Removes all agent connections.\n */\nLocalTransport.prototype.close = function() {\n  this.agents = {};\n};\n\nmodule.exports = LocalTransport;\n\n},{\"./../Transport\":34,\"./LocalConnection\":35}],37:[function(require,module,exports){\n'use strict';\n\n/**\n * Test whether the provided value is a Promise.\n * A value is marked as a Promise when it is an object containing functions\n * `then` and `catch`.\n * @param {*} value\n * @return {boolean} Returns true when `value` is a Promise\n */\nexports.isPromise = function (value) {\n  return value &&\n      typeof value['then'] === 'function' &&\n      typeof value['catch'] === 'function'\n};\n\n/**\n * Normalize a url. Removes trailing slash\n * @param {string} url\n * @return {string} Returns the normalized url\n */\nexports.normalizeURL = function (url) {\n  if (url[url.length - 1] == '/') {\n    return url.substring(0, url.length - 1);\n  }\n  else {\n    return url;\n  }\n};\n\n},{}],38:[function(require,module,exports){\n'use strict';\n\nvar isEmpty = require('es5-ext/object/is-empty')\n  , value   = require('es5-ext/object/valid-value')\n\n  , hasOwnProperty = Object.prototype.hasOwnProperty;\n\nmodule.exports = function (obj/*, type*/) {\n\tvar type;\n\tvalue(obj);\n\ttype = arguments[1];\n\tif (arguments.length > 1) {\n\t\treturn hasOwnProperty.call(obj, '__ee__') && Boolean(obj.__ee__[type]);\n\t}\n\treturn obj.hasOwnProperty('__ee__') && !isEmpty(obj.__ee__);\n};\n\n},{\"es5-ext/object/is-empty\":17,\"es5-ext/object/valid-value\":24}],39:[function(require,module,exports){\n'use strict';\n\nvar d        = require('d')\n  , callable = require('es5-ext/object/valid-callable')\n\n  , apply = Function.prototype.apply, call = Function.prototype.call\n  , create = Object.create, defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , descriptor = { configurable: true, enumerable: false, writable: true }\n\n  , on, once, off, emit, methods, descriptors, base;\n\non = function (type, listener) {\n\tvar data;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) {\n\t\tdata = descriptor.value = create(null);\n\t\tdefineProperty(this, '__ee__', descriptor);\n\t\tdescriptor.value = null;\n\t} else {\n\t\tdata = this.__ee__;\n\t}\n\tif (!data[type]) data[type] = listener;\n\telse if (typeof data[type] === 'object') data[type].push(listener);\n\telse data[type] = [data[type], listener];\n\n\treturn this;\n};\n\nonce = function (type, listener) {\n\tvar once, self;\n\n\tcallable(listener);\n\tself = this;\n\ton.call(this, type, once = function () {\n\t\toff.call(self, type, once);\n\t\tapply.call(listener, this, arguments);\n\t});\n\n\tonce.__eeOnceListener__ = listener;\n\treturn this;\n};\n\noff = function (type, listener) {\n\tvar data, listeners, candidate, i;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return this;\n\tdata = this.__ee__;\n\tif (!data[type]) return this;\n\tlisteners = data[type];\n\n\tif (typeof listeners === 'object') {\n\t\tfor (i = 0; (candidate = listeners[i]); ++i) {\n\t\t\tif ((candidate === listener) ||\n\t\t\t\t\t(candidate.__eeOnceListener__ === listener)) {\n\t\t\t\tif (listeners.length === 2) data[type] = listeners[i ? 0 : 1];\n\t\t\t\telse listeners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ((listeners === listener) ||\n\t\t\t\t(listeners.__eeOnceListener__ === listener)) {\n\t\t\tdelete data[type];\n\t\t}\n\t}\n\n\treturn this;\n};\n\nemit = function (type) {\n\tvar i, l, listener, listeners, args;\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return;\n\tlisteners = this.__ee__[type];\n\tif (!listeners) return;\n\n\tif (typeof listeners === 'object') {\n\t\tl = arguments.length;\n\t\targs = new Array(l - 1);\n\t\tfor (i = 1; i < l; ++i) args[i - 1] = arguments[i];\n\n\t\tlisteners = listeners.slice();\n\t\tfor (i = 0; (listener = listeners[i]); ++i) {\n\t\t\tapply.call(listener, this, args);\n\t\t}\n\t} else {\n\t\tswitch (arguments.length) {\n\t\tcase 1:\n\t\t\tcall.call(listeners, this);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tcall.call(listeners, this, arguments[1]);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tcall.call(listeners, this, arguments[1], arguments[2]);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tl = arguments.length;\n\t\t\targs = new Array(l - 1);\n\t\t\tfor (i = 1; i < l; ++i) {\n\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t}\n\t\t\tapply.call(listeners, this, args);\n\t\t}\n\t}\n};\n\nmethods = {\n\ton: on,\n\tonce: once,\n\toff: off,\n\temit: emit\n};\n\ndescriptors = {\n\ton: d(on),\n\tonce: d(once),\n\toff: d(off),\n\temit: d(emit)\n};\n\nbase = defineProperties({}, descriptors);\n\nmodule.exports = exports = function (o) {\n\treturn (o == null) ? create(base) : defineProperties(Object(o), descriptors);\n};\nexports.methods = methods;\n\n},{\"d\":10,\"es5-ext/object/valid-callable\":23}],40:[function(require,module,exports){\nmodule.exports = require('./lib/hypertimer');\n\n},{\"./lib/hypertimer\":43}],41:[function(require,module,exports){\nmodule.exports = (typeof window === 'undefined' || typeof window.Promise === 'undefined') ?\n    require('promise') :\n    window.Promise;\n\n},{\"promise\":53}],42:[function(require,module,exports){\nvar Debug = typeof window !== 'undefined' ? window.Debug : require('debug');\n\nmodule.exports = Debug || function () {\n  // empty stub when in the browser\n  return function () {};\n};\n\n},{\"debug\":11}],43:[function(require,module,exports){\nvar emitter = require('event-emitter');\nvar hasListeners = require('event-emitter/has-listeners');\nvar createMaster = require('./synchronization/master').createMaster;\nvar createSlave = require('./synchronization/slave').createSlave;\nvar util = require('./util');\n\n// enum for type of timeout\nvar TYPE = {\n  TIMEOUT: 0,\n  INTERVAL: 1,\n  TRIGGER: 2\n};\n\n/**\n * Create a new hypertimer\n * @param {Object} [options]  The following options are available:\n *                            deterministic: boolean\n *                                        If true (default), simultaneous events\n *                                        are executed in a deterministic order.\n *                            paced: boolean\n *                                        Mode for pacing of time. When paced,\n *                                        the time proceeds at a continuous,\n *                                        configurable rate, useful for\n *                                        animation purposes. When unpaced, the\n *                                        time jumps immediately from scheduled\n *                                        event to the next scheduled event.\n *                            rate: number\n *                                        The rate of progress of time with\n *                                        respect to real-time. Rate must be a\n *                                        positive number, and is 1 by default.\n *                                        For example when 2, the time of the\n *                                        hypertimer runs twice as fast as\n *                                        real-time.\n *                                        Only applicable when option paced=true.\n *                            time: number | Date | String\n *                                        Set a simulation time. If not provided,\n *                                        The timer is instantiated with the\n *                                        current system time.\n */\nfunction hypertimer(options) {\n  // options\n  var paced = true;\n  var rate = 1;             // number of milliseconds per milliseconds\n  var deterministic = true; // run simultaneous events in a deterministic order\n  var configuredTime = null;// only used for returning the configured time on .config()\n  var master = null;        // url of master, will run as slave\n  var port = null;          // port to serve as master\n\n  // properties\n  var running = false;              // true when running\n  var startTime = null;             // timestamp. the moment in real-time when hyperTime was set\n  var hyperTime = util.systemNow(); // timestamp. the start time in hyper-time\n  var timeouts = [];                // array with all running timeouts\n  var current = {};                 // the timeouts currently in progress (callback is being executed)\n  var timeoutId = null;             // currently running timer\n  var idSeq = 0;                    // counter for unique timeout id's\n  var server = null;\n  var client = null;\n\n  // exported timer object with public functions and variables\n  // add event-emitter mixin\n  var timer = emitter({});\n\n  /**\n   * Change configuration options of the hypertimer, or retrieve current\n   * configuration.\n   * @param {Object} [options]  The following options are available:\n   *                            deterministic: boolean\n   *                                        If true (default), simultaneous events\n   *                                        are executed in a deterministic order.\n   *                            paced: boolean\n   *                                        Mode for pacing of time. When paced,\n   *                                        the time proceeds at a continuous,\n   *                                        configurable rate, useful for\n   *                                        animation purposes. When unpaced, the\n   *                                        time jumps immediately from scheduled\n   *                                        event to the next scheduled event.\n   *                            rate: number\n   *                                        The rate of progress of time with\n   *                                        respect to real-time. Rate must be a\n   *                                        positive number, and is 1 by default.\n   *                                        For example when 2, the time of the\n   *                                        hypertimer runs twice as fast as\n   *                                        real-time.\n   *                                        Only applicable when option paced=true.\n   *                            time: number | Date | String\n   *                                        Set a simulation time.\n   * @return {Object} Returns the applied configuration\n   */\n  timer.config = function(options) {\n    if (options) {\n      _validateConfig(options);\n      _setConfig(options);\n    }\n\n    // return a copy of the configuration options\n    return _getConfig();\n  };\n\n  /**\n   * Returns the current time of the timer as a number.\n   * See also getTime().\n   * @return {number} The time\n   */\n  timer.now = function () {\n    if (paced) {\n      if (running) {\n        // TODO: implement performance.now() / process.hrtime(time) for high precision calculation of time interval\n        var realInterval = util.systemNow() - startTime;\n        var hyperInterval = realInterval * rate;\n        return hyperTime + hyperInterval;\n      }\n      else {\n        return hyperTime;\n      }\n    }\n    else {\n      return hyperTime;\n    }\n  };\n\n  /**\n   * Continue the timer.\n   */\n  timer['continue'] = function() {\n    startTime = util.systemNow();\n    running = true;\n\n    // reschedule running timeouts\n    _schedule();\n  };\n\n  /**\n   * Pause the timer. The timer can be continued again with `continue()`\n   */\n  timer.pause = function() {\n    hyperTime = timer.now();\n    startTime = null;\n    running = false;\n\n    // reschedule running timeouts (pauses them)\n    _schedule();\n  };\n\n  /**\n   * Returns the current time of the timer as Date.\n   * See also now().\n   * @return {Date} The time\n   */\n  timer.getTime = function() {\n    return new Date(timer.now());\n  };\n\n  /**\n   * Get the value of the hypertimer. This function returns the result of getTime().\n   * @return {Date} current time\n   */\n  timer.valueOf = timer.getTime;\n\n  /**\n   * Return a string representation of the current hyper-time.\n   * @returns {string} String representation\n   */\n  timer.toString = function () {\n    return timer.getTime().toString();\n  };\n\n  /**\n   * Set a timeout, which is triggered when the timeout occurs in hyper-time.\n   * See also setTrigger.\n   * @param {Function} callback   Function executed when delay is exceeded.\n   * @param {number} delay        The delay in milliseconds. When the delay is\n   *                              smaller or equal to zero, the callback is\n   *                              triggered immediately.\n   * @return {number} Returns a timeoutId which can be used to cancel the\n   *                  timeout using clearTimeout().\n   */\n  timer.setTimeout = function(callback, delay) {\n    var id = idSeq++;\n    var timestamp = timer.now() + delay;\n    if (isNaN(timestamp)) {\n      throw new TypeError('delay must be a number');\n    }\n\n    // add a new timeout to the queue\n    _queueTimeout({\n      id: id,\n      type: TYPE.TIMEOUT,\n      time: timestamp,\n      callback: callback\n    });\n\n    // reschedule the timeouts\n    _schedule();\n\n    return id;\n  };\n\n  /**\n   * Set a trigger, which is triggered when the timeout occurs in hyper-time.\n   * See also getTimeout.\n   * @param {Function} callback   Function executed when timeout occurs.\n   * @param {Date | number | string } time\n   *                              An absolute moment in time (Date) when the\n   *                              callback will be triggered. When the date is\n   *                              a Date in the past, the callback is triggered\n   *                              immediately.\n   * @return {number} Returns a triggerId which can be used to cancel the\n   *                  trigger using clearTrigger().\n   */\n  timer.setTrigger = function (callback, time) {\n    var id = idSeq++;\n    var timestamp = toTimestamp(time);\n\n    // add a new timeout to the queue\n    _queueTimeout({\n      id: id,\n      type: TYPE.TRIGGER,\n      time: timestamp,\n      callback: callback\n    });\n\n    // reschedule the timeouts\n    _schedule();\n\n    return id;\n  };\n\n\n  /**\n   * Trigger a callback every interval. Optionally, a start date can be provided\n   * to specify the first time the callback must be triggered.\n   * See also setTimeout and setTrigger.\n   * @param {Function} callback         Function executed when delay is exceeded.\n   * @param {number} interval           Interval in milliseconds. When interval\n   *                                    is smaller than zero or is infinity, the\n   *                                    interval will be set to zero and triggered\n   *                                    with a maximum rate.\n   * @param {Date | number | string} [firstTime]\n   *                                    An absolute moment in time (Date) when the\n   *                                    callback will be triggered the first time.\n   *                                    By default, firstTime = now() + interval.\n   * @return {number} Returns a intervalId which can be used to cancel the\n   *                  trigger using clearInterval().\n   */\n  timer.setInterval = function(callback, interval, firstTime) {\n    var id = idSeq++;\n\n    var _interval = Number(interval);\n    if (isNaN(_interval)) {\n      throw new TypeError('interval must be a number');\n    }\n    if (_interval < 0 || !isFinite(_interval)) {\n      _interval = 0;\n    }\n\n    var _firstTime = (firstTime != undefined) ?\n        toTimestamp(firstTime) :\n        null;\n\n    var now = timer.now();\n    var _time = (_firstTime != null) ? _firstTime : (now + _interval);\n\n    var timeout = {\n      id: id,\n      type: TYPE.INTERVAL,\n      interval: _interval,\n      time: _time,\n      firstTime: _firstTime != null ? _firstTime : _time,\n      occurrence: 0,\n      callback: callback\n    };\n\n    if (_time < now) {\n      // update schedule when in the past\n      _rescheduleInterval(timeout, now);\n    }\n\n    // add a new timeout to the queue\n    _queueTimeout(timeout);\n\n    // reschedule the timeouts\n    _schedule();\n\n    return id;\n  };\n\n  /**\n   * Cancel a timeout\n   * @param {number} timeoutId   The id of a timeout\n   */\n  timer.clearTimeout = function(timeoutId) {\n    // test whether timeout is currently being executed\n    if (current[timeoutId]) {\n      delete current[timeoutId];\n      return;\n    }\n\n    // find the timeout in the queue\n    for (var i = 0; i < timeouts.length; i++) {\n      if (timeouts[i].id === timeoutId) {\n        // remove this timeout from the queue\n        timeouts.splice(i, 1);\n\n        // reschedule timeouts\n        _schedule();\n        break;\n      }\n    }\n  };\n\n  /**\n   * Cancel a trigger\n   * @param {number} triggerId   The id of a trigger\n   */\n  timer.clearTrigger = timer.clearTimeout;\n\n  timer.clearInterval = timer.clearTimeout;\n\n  /**\n   * Returns a list with the id's of all timeouts\n   * @returns {number[]} Timeout id's\n   */\n  timer.list = function () {\n    return timeouts.map(function (timeout) {\n      return timeout.id;\n    });\n  };\n\n  /**\n   * Clear all timeouts\n   */\n  timer.clear = function () {\n    // empty the queue\n    current = {};\n    timeouts = [];\n\n    // reschedule\n    _schedule();\n  };\n\n  /**\n   * Destroy the timer. This will clear all timeouts, and close connections\n   * to a master or to slave timers.\n   */\n  timer.destroy = function () {\n    timer.clear();\n    if (client) client.destroy();\n    if (server) server.destroy();\n  };\n\n  /**\n   * Get the current configuration\n   * @returns {{paced: boolean, rate: number, deterministic: boolean, time: *, master: *}}\n   *                Returns a copy of the current configuration\n   * @private\n   */\n  function _getConfig () {\n    return {\n      paced: paced,\n      rate: rate,\n      deterministic: deterministic,\n      time: configuredTime,\n      master: master,\n      port: port\n    }\n  }\n\n  /**\n   * Validate configuration, depending on the current mode: slave or normal\n   * @param {Object} options\n   * @private\n   */\n  function _validateConfig (options) {\n    // validate writable options\n    if (client || options.master) {\n      // when we are a slave, we can't adjust the config, except for\n      // changing the master url or becoming a master itself (port configured)\n      for (var prop in options) {\n        if (prop !== 'master' && prop !== 'slave') {\n          throw new Error('Cannot apply configuration option \"'  + prop +'\", timer is configured as slave.');\n        }\n      }\n    }\n  }\n\n  /**\n   * Change configuration\n   * @param {{paced: boolean, rate: number, deterministic: boolean, time: *, master: *}} options\n   * @private\n   */\n  function _setConfig(options) {\n    if ('deterministic' in options) {\n      deterministic = options.deterministic ? true : false;\n    }\n\n    if ('paced' in options) {\n      paced = options.paced ? true : false;\n    }\n\n    // important: apply time before rate\n    if ('time' in options) {\n      hyperTime = toTimestamp(options.time);\n      startTime = util.systemNow();\n\n      // update intervals\n      _rescheduleIntervals(hyperTime);\n\n      configuredTime = new Date(hyperTime).toISOString();\n    }\n\n    if ('rate' in options) {\n      var newRate = Number(options.rate);\n      if (isNaN(newRate) || newRate <= 0) {\n        throw new TypeError('Invalid rate ' + JSON.stringify(options.rate) + '. Rate must be a positive number');\n      }\n\n      // important: first get the new hyperTime, then adjust the startTime\n      hyperTime = timer.now();\n      startTime = util.systemNow();\n      rate = newRate;\n    }\n\n    if ('master' in options) {\n      // create a timesync slave, connect to master via a websocket\n      if (client) {\n        client.destroy();\n        client = null;\n      }\n\n      master = options.master;\n      if (options.master != null) {\n        client = createSlave(options.master);\n\n        function applyConfig(config) {\n          var prev = _getConfig();\n          _setConfig(config);\n          var curr = _getConfig();\n          timer.emit('config', curr, prev);\n        }\n\n        client.on('change', function (time)   { applyConfig({time: time}) });\n        client.on('config', function (config) { applyConfig(config) });\n        client.on('error',  function (err)    { timer.emit('error', err) });\n      }\n    }\n\n    // create a master\n    if ('port' in options) {\n      if (server) {\n        server.destroy();\n        server = null;\n      }\n\n      port = options.port;\n      if (options.port) {\n        server = createMaster(timer.now, timer.config, options.port);\n        server.on('error', function (err) { timer.emit('error', err) });\n      }\n    }\n\n    // reschedule running timeouts\n    _schedule();\n\n    if (server) {\n      // broadcast changed config\n      server.broadcastConfig();\n    }\n  }\n\n  /**\n   * Reschedule all intervals after a new time has been set.\n   * @param {number} now\n   * @private\n   */\n  function _rescheduleIntervals(now) {\n    for (var i = 0; i < timeouts.length; i++) {\n      var timeout = timeouts[i];\n      if (timeout.type === TYPE.INTERVAL) {\n        _rescheduleInterval(timeout, now);\n      }\n    }\n  }\n\n  /**\n   * Reschedule the intervals after a new time has been set.\n   * @param {Object} timeout\n   * @param {number} now\n   * @private\n   */\n  function _rescheduleInterval(timeout, now) {\n    timeout.occurrence = Math.round((now - timeout.firstTime) / timeout.interval);\n    timeout.time = timeout.firstTime + timeout.occurrence * timeout.interval;\n  }\n\n  /**\n   * Add a timeout to the queue. After the queue has been changed, the queue\n   * must be rescheduled by executing _reschedule()\n   * @param {{id: number, type: number, time: number, callback: Function}} timeout\n   * @private\n   */\n  function _queueTimeout(timeout) {\n    // insert the new timeout at the right place in the array, sorted by time\n    if (timeouts.length > 0) {\n      var i = timeouts.length - 1;\n      while (i >= 0 && timeouts[i].time > timeout.time) {\n        i--;\n      }\n\n      // insert the new timeout in the queue. Note that the timeout is\n      // inserted *after* existing timeouts with the exact *same* time,\n      // so the order in which they are executed is deterministic\n      timeouts.splice(i + 1, 0, timeout);\n    }\n    else {\n      // queue is empty, append the new timeout\n      timeouts.push(timeout);\n    }\n  }\n\n  /**\n   * Execute a timeout\n   * @param {{id: number, type: number, time: number, callback: function}} timeout\n   * @param {function} [callback]\n   *             The callback is executed when the timeout's callback is\n   *             finished. Called without parameters\n   * @private\n   */\n  function _execTimeout(timeout, callback) {\n    // store the timeout in the queue with timeouts in progress\n    // it can be cleared when a clearTimeout is executed inside the callback\n    current[timeout.id] = timeout;\n\n    function finish() {\n      // in case of an interval we have to reschedule on next cycle\n      // interval must not be cleared while executing the callback\n      if (timeout.type === TYPE.INTERVAL && current[timeout.id]) {\n        timeout.occurrence++;\n        timeout.time = timeout.firstTime + timeout.occurrence * timeout.interval;\n        _queueTimeout(timeout);\n        //console.log('queue timeout', timer.getTime().toISOString(), new Date(timeout.time).toISOString(), timeout.occurrence) // TODO: cleanup\n      }\n\n      // remove the timeout from the queue with timeouts in progress\n      delete current[timeout.id];\n\n      callback && callback();\n    }\n\n    // execute the callback\n    try {\n      if (timeout.callback.length == 0) {\n        // synchronous timeout,  like `timer.setTimeout(function () {...}, delay)`\n        timeout.callback();\n        finish();\n      } else {\n        // asynchronous timeout, like `timer.setTimeout(function (done) {...; done(); }, delay)`\n        timeout.callback(finish);\n      }\n    } catch (err) {\n      // emit or log the error\n      if (hasListeners(timer, 'error')) {\n        timer.emit('error', err);\n      }\n      else {\n        console.log('Error', err);\n      }\n\n      finish();\n    }\n  }\n\n  /**\n   * Remove all timeouts occurring before or on the provided time from the\n   * queue and return them.\n   * @param {number} time    A timestamp\n   * @returns {Array} returns an array containing all expired timeouts\n   * @private\n   */\n  function _getExpiredTimeouts(time) {\n    var i = 0;\n    while (i < timeouts.length && ((timeouts[i].time <= time) || !isFinite(timeouts[i].time))) {\n      i++;\n    }\n    var expired = timeouts.splice(0, i);\n\n    if (deterministic == false) {\n      // the array with expired timeouts is in deterministic order\n      // shuffle them\n      util.shuffle(expired);\n    }\n\n    return expired;\n  }\n\n  /**\n   * Reschedule all queued timeouts\n   * @private\n   */\n  function _schedule() {\n    // do not _schedule when there are timeouts in progress\n    // this can be the case with async timeouts in non-paced mode.\n    // _schedule will be executed again when all async timeouts are finished.\n    if (!paced && Object.keys(current).length > 0) {\n      return;\n    }\n\n    var next = timeouts[0];\n\n    // cancel timer when running\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n      timeoutId = null;\n    }\n\n    if (running && next) {\n      // schedule next timeout\n      var time = next.time;\n      var delay = time - timer.now();\n      var realDelay = paced ? delay / rate : 0;\n\n      function onTimeout() {\n        // when running in non-paced mode, update the hyperTime to\n        // adjust the time of the current event\n        if (!paced) {\n          hyperTime = (time > hyperTime && isFinite(time)) ? time : hyperTime;\n        }\n\n        // grab all expired timeouts from the queue\n        var expired = _getExpiredTimeouts(time);\n        // note: expired.length can never be zero (on every change of the queue, we reschedule)\n\n        // execute all expired timeouts\n        if (paced) {\n          // in paced mode, we fire all timeouts in parallel,\n          // and don't await their completion (they can do async operations)\n          expired.forEach(function (timeout) {\n            _execTimeout(timeout);\n          });\n\n          // schedule the next round\n          _schedule();\n        }\n        else {\n          // in non-paced mode, we execute all expired timeouts serially,\n          // and wait for their completion in order to guarantee deterministic\n          // order of execution\n          function next() {\n            var timeout = expired.shift();\n            if (timeout) {\n              _execTimeout(timeout, next);\n            }\n            else {\n              // schedule the next round\n              _schedule();\n            }\n          }\n          next();\n        }\n      }\n\n      timeoutId = setTimeout(onTimeout, Math.round(realDelay));\n      // Note: Math.round(realDelay) is to defeat a bug in node.js v0.10.30,\n      //       see https://github.com/joyent/node/issues/8065\n    }\n  }\n\n  /**\n   * Convert a Date, number, or ISOString to a number timestamp,\n   * and validate whether it's a valid Date. The number Infinity is also\n   * accepted as a valid timestamp\n   * @param {Date | number | string} date\n   * @return {number} Returns a unix timestamp, a number\n   */\n  function toTimestamp(date) {\n    var value =\n        (typeof date === 'number') ? date :           // number\n        (date instanceof Date)     ? date.valueOf() : // Date\n        new Date(date).valueOf();                     // ISOString, momentjs, ...\n\n    if (isNaN(value)) {\n      throw new TypeError('Invalid date ' + JSON.stringify(date) + '. ' +\n          'Date, number, or ISOString expected');\n    }\n\n    return value;\n  }\n\n  Object.defineProperty(timer, 'running', {\n    get: function () {\n      return running;\n    }\n  });\n\n  timer.config(options);  // apply options\n  timer.continue();       // start the timer\n\n  return timer;\n}\n\nmodule.exports = hypertimer;\n\n},{\"./synchronization/master\":45,\"./synchronization/slave\":46,\"./util\":50,\"event-emitter\":39,\"event-emitter/has-listeners\":38}],44:[function(require,module,exports){\nmodule.exports = (typeof window === 'undefined' || typeof window.WebSocket === 'undefined') ?\n    require('ws') :\n    window.WebSocket;\n\n},{\"ws\":51}],45:[function(require,module,exports){\nvar WebSocket = require('./WebSocket');\nvar emitter = require('./socket-emitter');\nvar debug = require('../debug')('hypertimer:master');\n\nexports.createMaster = function (now, config, port) {\n  var master = new WebSocket.Server({port: port});\n\n  master.on('connection', function (ws) {\n    debug('new connection');\n\n    var _emitter = emitter(ws);\n\n    // ping timesync messages (for the timesync module)\n    _emitter.on('time', function (data, callback) {\n      var time = now();\n      callback(time);\n      debug('send time ' + new Date(time).toISOString());\n    });\n\n    // send the masters config to the new connection\n    var config = sanitizedConfig();\n    debug('send config', config);\n    _emitter.send('config', config);\n\n    ws.emitter = _emitter; // used by broadcast\n  });\n\n  master.broadcast = function (event, data) {\n    debug('broadcast', event, data);\n    master.clients.forEach(function (client) {\n      client.emitter.send(event, data);\n    });\n  };\n\n  master.broadcastConfig = function () {\n    master.broadcast('config', sanitizedConfig());\n  };\n\n  master.destroy = function() {\n    master.close();\n    debug('destroyed');\n  };\n\n  function sanitizedConfig() {\n    var curr = config();\n    delete curr.time;\n    delete curr.master;\n    delete curr.port;\n    return curr;\n  }\n\n  debug('listening at ws://localhost:' + port);\n\n  return master;\n};\n\n},{\"../debug\":42,\"./WebSocket\":44,\"./socket-emitter\":47}],46:[function(require,module,exports){\nvar WebSocket = require('./WebSocket');\nvar Promise = require('../Promise');\nvar debug = require('../debug')('hypertimer:slave');\nvar emitter = require('./socket-emitter');\nvar stat = require('./stat');\nvar util = require('./util');\n\n// TODO: make these constants configurable\nvar INTERVAL = 3600000; // once an hour\nvar DELAY = 1000;       // delay between individual requests\nvar REPEAT = 5;         // number of times to request the time for determining latency\n\nexports.createSlave = function (url) {\n  var ws = new WebSocket(url);\n  var slave = emitter(ws);\n  var isFirst = true;\n  var isDestroyed = false;\n  var syncTimer = null;\n\n  ws.onopen = function () {\n    debug('connected');\n    sync();\n    syncTimer = setInterval(sync, INTERVAL);\n  };\n\n  slave.destroy = function () {\n    isDestroyed = true;\n\n    clearInterval(syncTimer);\n    syncTimer = null;\n\n    ws.close();\n\n    debug('destroyed');\n  };\n\n  /**\n   * Sync with the time of the master. Emits a 'change' message\n   * @private\n   */\n  function sync() {\n    // retrieve latency, then wait 1 sec\n    function getLatencyAndWait() {\n      var result = null;\n\n      if (isDestroyed) {\n        return Promise.resolve(result);\n      }\n\n      return getLatency(slave)\n          .then(function (latency) { result = latency })  // store the retrieved latency\n          .catch(function (err)    { console.log(err) })  // just log failed requests\n          .then(function () { return util.wait(DELAY) })  // wait 1 sec\n          .then(function () { return result});            // return the retrieved latency\n    }\n\n    return util\n        .repeat(getLatencyAndWait, REPEAT)\n        .then(function (all) {\n          debug('latencies', all);\n\n          // filter away failed requests\n          var latencies = all.filter(function (latency) {\n            return latency !== null;\n          });\n\n          // calculate the limit for outliers\n          var limit = stat.median(latencies) + stat.std(latencies);\n\n          // filter away outliers: all latencies largereq than the mean+std\n          var filtered = latencies.filter(function (latency) {\n            return latency < limit;\n          });\n\n          // return the mean latency\n          return (filtered.length > 0) ? stat.mean(filtered) : null;\n        })\n        .then(function (latency) {\n          if (isDestroyed) {\n            return Promise.resolve(null);\n          }\n          else {\n            return slave.request('time').then(function (timestamp) {\n              var time = timestamp + latency;\n              slave.emit('change', time);\n              return time;\n            });\n          }\n        })\n        .catch(function (err) {\n          slave.emit('error', err)\n        });\n  }\n\n  /**\n   * Request the time of the master and calculate the latency from the\n   * roundtrip time\n   * @param {{request: function}} emitter\n   * @returns {Promise.<number | null>} returns the latency\n   * @private\n   */\n  function getLatency(emitter) {\n    var start = Date.now();\n\n    return emitter.request('time')\n        .then(function (timestamp) {\n          var end = Date.now();\n          var latency = (end - start) / 2;\n          var time = timestamp + latency;\n\n          // apply the first ever retrieved offset immediately.\n          if (isFirst) {\n            isFirst = false;\n            emitter.emit('change', time);\n          }\n\n          return latency;\n        })\n  }\n\n  return slave;\n};\n\n\n},{\"../Promise\":41,\"../debug\":42,\"./WebSocket\":44,\"./socket-emitter\":47,\"./stat\":48,\"./util\":49}],47:[function(require,module,exports){\n// Turn a WebSocket in an event emitter.\nvar eventEmitter = require('event-emitter');\nvar Promise = require('./../Promise');\nvar debug = require('../debug')('hypertimer:socket');\n\nvar TIMEOUT = 60000; // ms\n// TODO: make timeout a configuration setting\n\nmodule.exports = function (socket) {\n  var emitter = eventEmitter({\n    socket: socket,\n    send: send,\n    request: request\n  });\n\n  /**\n   * Send an event\n   * @param {string} event\n   * @param {*} data\n   */\n  function send (event, data) {\n    var envelope = {\n      event: event,\n      data: data\n    };\n    debug('send', envelope);\n    socket.send(JSON.stringify(envelope));\n  }\n\n  /**\n   * Request an event, await a response\n   * @param {string} event\n   * @param {*} data\n   * @return {Promise} Returns a promise which resolves with the reply\n   */\n  function request (event, data) {\n    return new Promise(function (resolve, reject) {\n      // put the data in an envelope with id\n      var id = getId();\n      var envelope = {\n        event: event,\n        id: id,\n        data: data\n      };\n\n      // add the request to the list with requests in progress\n      queue[id] = {\n        resolve: resolve,\n        reject: reject,\n        timeout: setTimeout(function () {\n          delete queue[id];\n          reject(new Error('Timeout'));\n        }, TIMEOUT)\n      };\n\n      debug('request', envelope);\n      socket.send(JSON.stringify(envelope));\n    }).catch(function (err) {console.log('ERROR', err)});\n  }\n\n  /**\n   * Event handler, handles incoming messages\n   * @param {Object} event\n   */\n  socket.onmessage = function (event) {\n    var data = event.data;\n    var envelope = JSON.parse(data);\n    debug('receive', envelope);\n\n    // match the request from the id in the response\n    var request = queue[envelope.id];\n    if (request) {\n      // incoming response\n      clearTimeout(request.timeout);\n      delete queue[envelope.id];\n      request.resolve(envelope.data);\n    }\n    else if ('id' in envelope) {\n      // incoming request\n      emitter.emit(envelope.event, envelope.data, function (reply) {\n        var response = {\n          id: envelope.id,\n          data: reply\n        };\n\n        if (socket.readyState === socket.OPEN || socket.readyState === socket.CONNECTING) {\n          debug('reply', response);\n          socket.send(JSON.stringify(response));\n        }\n        else {\n          debug('cancel reply', response, '(socket is closed)');\n        }\n      });\n    }\n    else {\n      // regular incoming message\n      emitter.emit(envelope.event, envelope.data);\n    }\n  };\n\n  var queue = {};   // queue with requests in progress\n\n  // get a unique id (simple counter)\n  function getId () {\n    return _id++;\n  }\n  var _id = 0;\n\n  return emitter;\n};\n\n},{\"../debug\":42,\"./../Promise\":41,\"event-emitter\":39}],48:[function(require,module,exports){\n// basic statistical functions\n\nexports.compare = function (a, b) {\n  return a > b ? 1 : a < b ? -1 : 0;\n};\n\nexports.add = function (a, b) {\n  return a + b;\n};\n\nexports.sum = function (arr) {\n  return arr.reduce(exports.add);\n};\n\nexports.mean = function (arr) {\n  return exports.sum(arr) / arr.length;\n};\n\nexports.std = function (arr) {\n  return Math.sqrt(exports.variance(arr));\n};\n\nexports.variance = function (arr) {\n  if (arr.length < 2) return 0;\n\n  var _mean = exports.mean(arr);\n  return arr\n          .map(function (x) {\n            return Math.pow(x - _mean, 2)\n          })\n          .reduce(exports.add) / (arr.length - 1);\n};\n\nexports.median = function (arr) {\n  if (arr.length < 2) return arr[0];\n\n  var sorted = arr.slice().sort(exports.compare);\n  if (sorted.length % 2 === 0) {\n    // even\n    return (arr[arr.length / 2 - 1] + arr[arr.length / 2]) / 2;\n  }\n  else {\n    // odd\n    return arr[(arr.length - 1) / 2];\n  }\n};\n\n},{}],49:[function(require,module,exports){\nvar Promise = require('../Promise');\n\n/**\n * Resolve a promise after a delay\n * @param {number} delay    A delay in milliseconds\n * @returns {Promise} Resolves after given delay\n */\nexports.wait = function(delay) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, delay);\n  });\n};\n\n/**\n * Repeat a given asynchronous function a number of times\n * @param {function} fn   A function returning a promise\n * @param {number} times\n * @return {Promise}\n */\nexports.repeat = function (fn, times) {\n  return new Promise(function (resolve, reject) {\n    var count = 0;\n    var results = [];\n\n    function recurse() {\n      if (count < times) {\n        count++;\n        fn().then(function (result) {\n          results.push(result);\n          recurse();\n        })\n      }\n      else {\n        resolve(results);\n      }\n    }\n\n    recurse();\n  });\n};\n\n/**\n * Repeat an asynchronous callback function whilst\n * @param {function} condition   A function returning true or false\n * @param {function} callback    A callback returning a Promise\n * @returns {Promise}\n */\nexports.whilst = function (condition, callback) {\n  return new Promise(function (resolve, reject) {\n    function recurse() {\n      if (condition()) {\n        callback().then(function () {\n          recurse()\n        });\n      }\n      else {\n        resolve();\n      }\n    }\n\n    recurse();\n  });\n};\n\n},{\"../Promise\":41}],50:[function(require,module,exports){\n\n/* istanbul ignore else */\nif (typeof Date.now === 'function') {\n  /**\n   * Helper function to get the current time\n   * @return {number} Current time\n   */\n  exports.systemNow = function () {\n    return Date.now();\n  }\n}\nelse {\n  /**\n   * Helper function to get the current time\n   * @return {number} Current time\n   */\n  exports.systemNow = function () {\n    return new Date().valueOf();\n  }\n}\n\n/**\n * Shuffle an array\n *\n * + Jonas Raoni Soares Silva\n * @ http://jsfromhell.com/array/shuffle [v1.0]\n *\n * @param {Array} o   Array to be shuffled\n * @returns {Array}   Returns the shuffled array\n */\nexports.shuffle = function (o){\n  for(var j, x, i = o.length; i; j = Math.floor(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);\n  return o;\n};\n\n},{}],51:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function () {\n  throw new Error(\n    'ws does not work in the browser. Browser clients must use the native ' +\n      'WebSocket object'\n  );\n};\n\n},{}],52:[function(require,module,exports){\n/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n\n},{}],53:[function(require,module,exports){\n'use strict';\n\nmodule.exports = require('./lib')\n\n},{\"./lib\":58}],54:[function(require,module,exports){\n'use strict';\n\nvar asap = require('asap/raw');\n\nfunction noop() {}\n\n// States:\n//\n// 0 - pending\n// 1 - fulfilled with _value\n// 2 - rejected with _value\n// 3 - adopted the state of another promise, _value\n//\n// once the state is no longer pending (0) it is immutable\n\n// All `_` prefixed properties will be reduced to `_{random number}`\n// at build time to obfuscate them and discourage their use.\n// We don't use symbols or Object.defineProperty to fully hide them\n// because the performance isn't good enough.\n\n\n// to avoid using try/catch inside critical functions, we\n// extract them to here.\nvar LAST_ERROR = null;\nvar IS_ERROR = {};\nfunction getThen(obj) {\n  try {\n    return obj.then;\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallOne(fn, a) {\n  try {\n    return fn(a);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\nfunction tryCallTwo(fn, a, b) {\n  try {\n    fn(a, b);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nmodule.exports = Promise;\n\nfunction Promise(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n  if (typeof fn !== 'function') {\n    throw new TypeError('Promise constructor\\'s argument is not a function');\n  }\n  this._U = 0;\n  this._V = 0;\n  this._W = null;\n  this._X = null;\n  if (fn === noop) return;\n  doResolve(fn, this);\n}\nPromise._Y = null;\nPromise._Z = null;\nPromise._0 = noop;\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  if (this.constructor !== Promise) {\n    return safeThen(this, onFulfilled, onRejected);\n  }\n  var res = new Promise(noop);\n  handle(this, new Handler(onFulfilled, onRejected, res));\n  return res;\n};\n\nfunction safeThen(self, onFulfilled, onRejected) {\n  return new self.constructor(function (resolve, reject) {\n    var res = new Promise(noop);\n    res.then(resolve, reject);\n    handle(self, new Handler(onFulfilled, onRejected, res));\n  });\n}\nfunction handle(self, deferred) {\n  while (self._V === 3) {\n    self = self._W;\n  }\n  if (Promise._Y) {\n    Promise._Y(self);\n  }\n  if (self._V === 0) {\n    if (self._U === 0) {\n      self._U = 1;\n      self._X = deferred;\n      return;\n    }\n    if (self._U === 1) {\n      self._U = 2;\n      self._X = [self._X, deferred];\n      return;\n    }\n    self._X.push(deferred);\n    return;\n  }\n  handleResolved(self, deferred);\n}\n\nfunction handleResolved(self, deferred) {\n  asap(function() {\n    var cb = self._V === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      if (self._V === 1) {\n        resolve(deferred.promise, self._W);\n      } else {\n        reject(deferred.promise, self._W);\n      }\n      return;\n    }\n    var ret = tryCallOne(cb, self._W);\n    if (ret === IS_ERROR) {\n      reject(deferred.promise, LAST_ERROR);\n    } else {\n      resolve(deferred.promise, ret);\n    }\n  });\n}\nfunction resolve(self, newValue) {\n  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n  if (newValue === self) {\n    return reject(\n      self,\n      new TypeError('A promise cannot be resolved with itself.')\n    );\n  }\n  if (\n    newValue &&\n    (typeof newValue === 'object' || typeof newValue === 'function')\n  ) {\n    var then = getThen(newValue);\n    if (then === IS_ERROR) {\n      return reject(self, LAST_ERROR);\n    }\n    if (\n      then === self.then &&\n      newValue instanceof Promise\n    ) {\n      self._V = 3;\n      self._W = newValue;\n      finale(self);\n      return;\n    } else if (typeof then === 'function') {\n      doResolve(then.bind(newValue), self);\n      return;\n    }\n  }\n  self._V = 1;\n  self._W = newValue;\n  finale(self);\n}\n\nfunction reject(self, newValue) {\n  self._V = 2;\n  self._W = newValue;\n  if (Promise._Z) {\n    Promise._Z(self, newValue);\n  }\n  finale(self);\n}\nfunction finale(self) {\n  if (self._U === 1) {\n    handle(self, self._X);\n    self._X = null;\n  }\n  if (self._U === 2) {\n    for (var i = 0; i < self._X.length; i++) {\n      handle(self, self._X[i]);\n    }\n    self._X = null;\n  }\n}\n\nfunction Handler(onFulfilled, onRejected, promise){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, promise) {\n  var done = false;\n  var res = tryCallTwo(fn, function (value) {\n    if (done) return;\n    done = true;\n    resolve(promise, value);\n  }, function (reason) {\n    if (done) return;\n    done = true;\n    reject(promise, reason);\n  });\n  if (!done && res === IS_ERROR) {\n    done = true;\n    reject(promise, LAST_ERROR);\n  }\n}\n\n},{\"asap/raw\":9}],55:[function(require,module,exports){\n'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.prototype.done = function (onFulfilled, onRejected) {\n  var self = arguments.length ? this.then.apply(this, arguments) : this;\n  self.then(null, function (err) {\n    setTimeout(function () {\n      throw err;\n    }, 0);\n  });\n};\n\n},{\"./core.js\":54}],56:[function(require,module,exports){\n'use strict';\n\n//This file contains the ES6 extensions to the core Promises/A+ API\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nvar TRUE = valuePromise(true);\nvar FALSE = valuePromise(false);\nvar NULL = valuePromise(null);\nvar UNDEFINED = valuePromise(undefined);\nvar ZERO = valuePromise(0);\nvar EMPTYSTRING = valuePromise('');\n\nfunction valuePromise(value) {\n  var p = new Promise(Promise._0);\n  p._V = 1;\n  p._W = value;\n  return p;\n}\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value;\n\n  if (value === null) return NULL;\n  if (value === undefined) return UNDEFINED;\n  if (value === true) return TRUE;\n  if (value === false) return FALSE;\n  if (value === 0) return ZERO;\n  if (value === '') return EMPTYSTRING;\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then;\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value));\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex);\n      });\n    }\n  }\n  return valuePromise(value);\n};\n\nvar iterableToArray = function (iterable) {\n  if (typeof Array.from === 'function') {\n    // ES2015+, iterables exist\n    iterableToArray = Array.from;\n    return Array.from(iterable);\n  }\n\n  // ES5, only arrays and array-likes exist\n  iterableToArray = function (x) { return Array.prototype.slice.call(x); };\n  return Array.prototype.slice.call(iterable);\n}\n\nPromise.all = function (arr) {\n  var args = iterableToArray(arr);\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        if (val instanceof Promise && val.then === Promise.prototype.then) {\n          while (val._V === 3) {\n            val = val._W;\n          }\n          if (val._V === 1) return res(i, val._W);\n          if (val._V === 2) reject(val._W);\n          val.then(function (val) {\n            res(i, val);\n          }, reject);\n          return;\n        } else {\n          var then = val.then;\n          if (typeof then === 'function') {\n            var p = new Promise(then.bind(val));\n            p.then(function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n      }\n      args[i] = val;\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) {\n    iterableToArray(values).forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    });\n  });\n};\n\n/* Prototype Methods */\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n\n},{\"./core.js\":54}],57:[function(require,module,exports){\n'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.prototype.finally = function (f) {\n  return this.then(function (value) {\n    return Promise.resolve(f()).then(function () {\n      return value;\n    });\n  }, function (err) {\n    return Promise.resolve(f()).then(function () {\n      throw err;\n    });\n  });\n};\n\n},{\"./core.js\":54}],58:[function(require,module,exports){\n'use strict';\n\nmodule.exports = require('./core.js');\nrequire('./done.js');\nrequire('./finally.js');\nrequire('./es6-extensions.js');\nrequire('./node-extensions.js');\nrequire('./synchronous.js');\n\n},{\"./core.js\":54,\"./done.js\":55,\"./es6-extensions.js\":56,\"./finally.js\":57,\"./node-extensions.js\":59,\"./synchronous.js\":60}],59:[function(require,module,exports){\n'use strict';\n\n// This file contains then/promise specific extensions that are only useful\n// for node.js interop\n\nvar Promise = require('./core.js');\nvar asap = require('asap');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nPromise.denodeify = function (fn, argumentCount) {\n  if (\n    typeof argumentCount === 'number' && argumentCount !== Infinity\n  ) {\n    return denodeifyWithCount(fn, argumentCount);\n  } else {\n    return denodeifyWithoutCount(fn);\n  }\n};\n\nvar callbackFn = (\n  'function (err, res) {' +\n  'if (err) { rj(err); } else { rs(res); }' +\n  '}'\n);\nfunction denodeifyWithCount(fn, argumentCount) {\n  var args = [];\n  for (var i = 0; i < argumentCount; i++) {\n    args.push('a' + i);\n  }\n  var body = [\n    'return function (' + args.join(',') + ') {',\n    'var self = this;',\n    'return new Promise(function (rs, rj) {',\n    'var res = fn.call(',\n    ['self'].concat(args).concat([callbackFn]).join(','),\n    ');',\n    'if (res &&',\n    '(typeof res === \"object\" || typeof res === \"function\") &&',\n    'typeof res.then === \"function\"',\n    ') {rs(res);}',\n    '});',\n    '};'\n  ].join('');\n  return Function(['Promise', 'fn'], body)(Promise, fn);\n}\nfunction denodeifyWithoutCount(fn) {\n  var fnLength = Math.max(fn.length - 1, 3);\n  var args = [];\n  for (var i = 0; i < fnLength; i++) {\n    args.push('a' + i);\n  }\n  var body = [\n    'return function (' + args.join(',') + ') {',\n    'var self = this;',\n    'var args;',\n    'var argLength = arguments.length;',\n    'if (arguments.length > ' + fnLength + ') {',\n    'args = new Array(arguments.length + 1);',\n    'for (var i = 0; i < arguments.length; i++) {',\n    'args[i] = arguments[i];',\n    '}',\n    '}',\n    'return new Promise(function (rs, rj) {',\n    'var cb = ' + callbackFn + ';',\n    'var res;',\n    'switch (argLength) {',\n    args.concat(['extra']).map(function (_, index) {\n      return (\n        'case ' + (index) + ':' +\n        'res = fn.call(' + ['self'].concat(args.slice(0, index)).concat('cb').join(',') + ');' +\n        'break;'\n      );\n    }).join(''),\n    'default:',\n    'args[argLength] = cb;',\n    'res = fn.apply(self, args);',\n    '}',\n    \n    'if (res &&',\n    '(typeof res === \"object\" || typeof res === \"function\") &&',\n    'typeof res.then === \"function\"',\n    ') {rs(res);}',\n    '});',\n    '};'\n  ].join('');\n\n  return Function(\n    ['Promise', 'fn'],\n    body\n  )(Promise, fn);\n}\n\nPromise.nodeify = function (fn) {\n  return function () {\n    var args = Array.prototype.slice.call(arguments);\n    var callback =\n      typeof args[args.length - 1] === 'function' ? args.pop() : null;\n    var ctx = this;\n    try {\n      return fn.apply(this, arguments).nodeify(callback, ctx);\n    } catch (ex) {\n      if (callback === null || typeof callback == 'undefined') {\n        return new Promise(function (resolve, reject) {\n          reject(ex);\n        });\n      } else {\n        asap(function () {\n          callback.call(ctx, ex);\n        })\n      }\n    }\n  }\n};\n\nPromise.prototype.nodeify = function (callback, ctx) {\n  if (typeof callback != 'function') return this;\n\n  this.then(function (value) {\n    asap(function () {\n      callback.call(ctx, null, value);\n    });\n  }, function (err) {\n    asap(function () {\n      callback.call(ctx, err);\n    });\n  });\n};\n\n},{\"./core.js\":54,\"asap\":8}],60:[function(require,module,exports){\n'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.enableSynchronous = function () {\n  Promise.prototype.isPending = function() {\n    return this.getState() == 0;\n  };\n\n  Promise.prototype.isFulfilled = function() {\n    return this.getState() == 1;\n  };\n\n  Promise.prototype.isRejected = function() {\n    return this.getState() == 2;\n  };\n\n  Promise.prototype.getValue = function () {\n    if (this._V === 3) {\n      return this._W.getValue();\n    }\n\n    if (!this.isFulfilled()) {\n      throw new Error('Cannot get a value of an unfulfilled promise.');\n    }\n\n    return this._W;\n  };\n\n  Promise.prototype.getReason = function () {\n    if (this._V === 3) {\n      return this._W.getReason();\n    }\n\n    if (!this.isRejected()) {\n      throw new Error('Cannot get a rejection reason of a non-rejected promise.');\n    }\n\n    return this._W;\n  };\n\n  Promise.prototype.getState = function () {\n    if (this._V === 3) {\n      return this._W.getState();\n    }\n    if (this._V === -1 || this._V === -2) {\n      return 0;\n    }\n\n    return this._V;\n  };\n};\n\nPromise.disableSynchronous = function() {\n  Promise.prototype.isPending = undefined;\n  Promise.prototype.isFulfilled = undefined;\n  Promise.prototype.isRejected = undefined;\n  Promise.prototype.getValue = undefined;\n  Promise.prototype.getReason = undefined;\n  Promise.prototype.getState = undefined;\n};\n\n},{\"./core.js\":54}],61:[function(require,module,exports){\n(function (global){(function (){\n'use strict';\r\n\r\nvar width = 256;// each RC4 output is 0 <= x < 256\r\nvar chunks = 6;// at least six RC4 outputs for each double\r\nvar digits = 52;// there are 52 significant digits in a double\r\nvar pool = [];// pool: entropy pool starts empty\r\nvar GLOBAL = typeof global === 'undefined' ? window : global;\r\n\r\n//\r\n// The following constants are related to IEEE 754 limits.\r\n//\r\nvar startdenom = Math.pow(width, chunks),\r\n    significance = Math.pow(2, digits),\r\n    overflow = significance * 2,\r\n    mask = width - 1;\r\n\r\n\r\nvar oldRandom = Math.random;\r\n\r\n//\r\n// seedrandom()\r\n// This is the seedrandom function described above.\r\n//\r\nmodule.exports = function(seed, options) {\r\n  if (options && options.global === true) {\r\n    options.global = false;\r\n    Math.random = module.exports(seed, options);\r\n    options.global = true;\r\n    return Math.random;\r\n  }\r\n  var use_entropy = (options && options.entropy) || false;\r\n  var key = [];\r\n\r\n  // Flatten the seed string or build one from local entropy if needed.\r\n  var shortseed = mixkey(flatten(\r\n    use_entropy ? [seed, tostring(pool)] :\r\n    0 in arguments ? seed : autoseed(), 3), key);\r\n\r\n  // Use the seed to initialize an ARC4 generator.\r\n  var arc4 = new ARC4(key);\r\n\r\n  // Mix the randomness into accumulated entropy.\r\n  mixkey(tostring(arc4.S), pool);\r\n\r\n  // Override Math.random\r\n\r\n  // This function returns a random double in [0, 1) that contains\r\n  // randomness in every bit of the mantissa of the IEEE 754 value.\r\n\r\n  return function() {         // Closure to return a random double:\r\n    var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\r\n        d = startdenom,                 //   and denominator d = 2 ^ 48.\r\n        x = 0;                          //   and no 'extra last byte'.\r\n    while (n < significance) {          // Fill up all significant digits by\r\n      n = (n + x) * width;              //   shifting numerator and\r\n      d *= width;                       //   denominator and generating a\r\n      x = arc4.g(1);                    //   new least-significant-byte.\r\n    }\r\n    while (n >= overflow) {             // To avoid rounding up, before adding\r\n      n /= 2;                           //   last byte, shift everything\r\n      d /= 2;                           //   right using integer Math until\r\n      x >>>= 1;                         //   we have exactly the desired bits.\r\n    }\r\n    return (n + x) / d;                 // Form the number within [0, 1).\r\n  };\r\n};\r\n\r\nmodule.exports.resetGlobal = function () {\r\n  Math.random = oldRandom;\r\n};\r\n\r\n//\r\n// ARC4\r\n//\r\n// An ARC4 implementation.  The constructor takes a key in the form of\r\n// an array of at most (width) integers that should be 0 <= x < (width).\r\n//\r\n// The g(count) method returns a pseudorandom integer that concatenates\r\n// the next (count) outputs from ARC4.  Its return value is a number x\r\n// that is in the range 0 <= x < (width ^ count).\r\n//\r\n/** @constructor */\r\nfunction ARC4(key) {\r\n  var t, keylen = key.length,\r\n      me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\r\n\r\n  // The empty key [] is treated as [0].\r\n  if (!keylen) { key = [keylen++]; }\r\n\r\n  // Set up S using the standard key scheduling algorithm.\r\n  while (i < width) {\r\n    s[i] = i++;\r\n  }\r\n  for (i = 0; i < width; i++) {\r\n    s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\r\n    s[j] = t;\r\n  }\r\n\r\n  // The \"g\" method returns the next (count) outputs as one number.\r\n  (me.g = function(count) {\r\n    // Using instance members instead of closure state nearly doubles speed.\r\n    var t, r = 0,\r\n        i = me.i, j = me.j, s = me.S;\r\n    while (count--) {\r\n      t = s[i = mask & (i + 1)];\r\n      r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\r\n    }\r\n    me.i = i; me.j = j;\r\n    return r;\r\n    // For robust unpredictability discard an initial batch of values.\r\n    // See http://www.rsa.com/rsalabs/node.asp?id=2009\r\n  })(width);\r\n}\r\n\r\n//\r\n// flatten()\r\n// Converts an object tree to nested arrays of strings.\r\n//\r\nfunction flatten(obj, depth) {\r\n  var result = [], typ = (typeof obj)[0], prop;\r\n  if (depth && typ == 'o') {\r\n    for (prop in obj) {\r\n      try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\r\n    }\r\n  }\r\n  return (result.length ? result : typ == 's' ? obj : obj + '\\0');\r\n}\r\n\r\n//\r\n// mixkey()\r\n// Mixes a string seed into a key that is an array of integers, and\r\n// returns a shortened string seed that is equivalent to the result key.\r\n//\r\nfunction mixkey(seed, key) {\r\n  var stringseed = seed + '', smear, j = 0;\r\n  while (j < stringseed.length) {\r\n    key[mask & j] =\r\n      mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\r\n  }\r\n  return tostring(key);\r\n}\r\n\r\n//\r\n// autoseed()\r\n// Returns an object for autoseeding, using window.crypto if available.\r\n//\r\n/** @param {Uint8Array=} seed */\r\nfunction autoseed(seed) {\r\n  try {\r\n    GLOBAL.crypto.getRandomValues(seed = new Uint8Array(width));\r\n    return tostring(seed);\r\n  } catch (e) {\r\n    return [+new Date, GLOBAL, GLOBAL.navigator && GLOBAL.navigator.plugins,\r\n            GLOBAL.screen, tostring(pool)];\r\n  }\r\n}\r\n\r\n//\r\n// tostring()\r\n// Converts an array of charcodes to a string\r\n//\r\nfunction tostring(a) {\r\n  return String.fromCharCode.apply(0, a);\r\n}\r\n\r\n//\r\n// When seedrandom.js is loaded, we immediately mix a few bits\r\n// from the built-in RNG into the entropy pool.  Because we do\r\n// not want to intefere with determinstic PRNG state later,\r\n// seedrandom will not call Math.random on its own again after\r\n// initialization.\r\n//\r\nmixkey(Math.random(), pool);\r\n\n}).call(this)}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],62:[function(require,module,exports){\n\"use strict\";\n\nvar isPrototype = require(\"../prototype/is\");\n\nmodule.exports = function (value) {\n\tif (typeof value !== \"function\") return false;\n\n\tif (!hasOwnProperty.call(value, \"length\")) return false;\n\n\ttry {\n\t\tif (typeof value.length !== \"number\") return false;\n\t\tif (typeof value.call !== \"function\") return false;\n\t\tif (typeof value.apply !== \"function\") return false;\n\t} catch (error) {\n\t\treturn false;\n\t}\n\n\treturn !isPrototype(value);\n};\n\n},{\"../prototype/is\":65}],63:[function(require,module,exports){\n\"use strict\";\n\nvar isValue = require(\"../value/is\");\n\n// prettier-ignore\nvar possibleTypes = { \"object\": true, \"function\": true, \"undefined\": true /* document.all */ };\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) return false;\n\treturn hasOwnProperty.call(possibleTypes, typeof value);\n};\n\n},{\"../value/is\":66}],64:[function(require,module,exports){\n\"use strict\";\n\nvar isFunction = require(\"../function/is\");\n\nvar classRe = /^\\s*class[\\s{/}]/, functionToString = Function.prototype.toString;\n\nmodule.exports = function (value) {\n\tif (!isFunction(value)) return false;\n\tif (classRe.test(functionToString.call(value))) return false;\n\treturn true;\n};\n\n},{\"../function/is\":62}],65:[function(require,module,exports){\n\"use strict\";\n\nvar isObject = require(\"../object/is\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) return false;\n\ttry {\n\t\tif (!value.constructor) return false;\n\t\treturn value.constructor.prototype === value;\n\t} catch (error) {\n\t\treturn false;\n\t}\n};\n\n},{\"../object/is\":63}],66:[function(require,module,exports){\n\"use strict\";\n\n// ES3 safe\nvar _undefined = void 0;\n\nmodule.exports = function (value) { return value !== _undefined && value !== null; };\n\n},{}],67:[function(require,module,exports){\n\nexports = module.exports = function() {\n\tvar ret = '', value;\n\tfor (var i = 0; i < 32; i++) {\n\t\tvalue = exports.random() * 16 | 0;\n\t\t// Insert the hypens\n\t\tif (i > 4 && i < 21 && ! (i % 4)) {\n\t\t\tret += '-';\n\t\t}\n\t\t// Add the next random character\n\t\tret += (\n\t\t\t(i === 12) ? 4 : (\n\t\t\t\t(i === 16) ? (value & 3 | 8) : value\n\t\t\t)\n\t\t).toString(16);\n\t}\n\treturn ret;\n};\n\nvar uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/;\nexports.isUUID = function(uuid) {\n\treturn uuidRegex.test(uuid);\n};\n\nexports.random = function() {\n\treturn Math.random();\n};\n\n\n},{}]},{},[28])(28)\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',[_c('b-card-title',[_vm._v(_vm._s(_vm.item['ve:name']))]),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.$emit('delete',_vm.item)}}},[_vm._v(\"Delete\")]),_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.$emit('edit',_vm.item)}}},[_vm._v(\"Edit\")]),_vm._v(\" \"+_vm._s(_vm.item['ve:age'])+\" \"),_c('b-card-footer',[(_vm.item['ve:url'] != undefined)?_c('span',[_vm._v(\"remote\")]):_c('span',[_c('b-button',{on:{\"click\":_vm.putOnline}},[_vm._v(\"local\")])],1)]),_c('Properties',{attrs:{\"item\":_vm.item}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// var eve = require('evejs');\nimport Vue from 'vue'\nimport * as eve from  'evejs/dist/eve.custom-request.js';\n\nexport function PodAgent(id) {\n  // execute super constructor\n  eve.Agent.call(this, id);\n  this.extend('request');\n  this.count = 0\n\n  // connect to all transports configured by the system\n  this.connect(eve.system.transports.getAll());\n}\n\n// extend the eve.Agent prototype\nPodAgent.prototype = Object.create(eve.Agent.prototype);\nPodAgent.prototype.constructor = PodAgent;\n\nPodAgent.prototype.sayHello = function(to) {\n  this.send(to, 'Hello ' + to + '!');\n};\n\nPodAgent.prototype.receive = async function(from, message) {\n  console.log(\"POD : \"+from + ' said: ' + JSON.stringify(message));\n  // document.write(from + ' said: ' + JSON.stringify(message) + '<br>');\n  let retour = {}\n  try{\n    let mess = message\n    if (message.type == \"request\"){\n      mess = message.message\n    }\n    if (mess.action == \"read\"){\n      let file = await Vue.prototype.$getResource(mess)\n      retour = file\n    }else if (mess.action == \"create\"){\n      let file = await Vue.prototype.$updateFile(mess)\n      retour = file\n    }else{\n      retour = \"i don't understand\"\n    }\n\n  }catch(e){\n    console.log(e)\n    retour = e\n  }\n\n  return retour\n  // let url = message.url\n  // if (message.type == \"request\"){\n  //   url = message.message.url\n  // }\n  // let resources = await Vue.prototype.$getResources(url)\n  // console.log(\"$getResources\", resources)\n  // return {resources: resources};\n  //return {resources: resources}\n  // for (const r of resources){\n  //   console.log(r)\n  //   if (r.type == \"folder\"){\n  //     r.resources = await Vue.prototype.$getResources(r.url)\n  //   }\n  // }\n  //let resources = await getResources(message)\n  //if (message.indexOf('Hello') === 0) {\n  // reply to the greeting\n  //  this.send(from, {resources: resources});\n\n  // }else{\n  //   if(this.count <10)\n  //   {\n  //     this.count ++\n  //     this.send(from, 'Hi ' + from + 'my count is '+this.count );\n  //   }\n  // }\n};\n\n// async function getResources(r){\n//   r.resources = await Vue.prototype.$getResources(r.url)\n//   for (const (i, res) in r.resources){\n//     let res  = r.resources[i]\n//\n//     if (res.type == \"folder\"){\n//       console.log(res.url)\n//       res.resources = await getResources(res)\n//     }\n//   }\n//   console.log(r)\n//   return r\n//\n// }\n","// var eve = require('evejs');\nimport * as eve from  'evejs/dist/eve.custom-request.js';\n\nexport function HelloAgent(id) {\n  // execute super constructor\n  eve.Agent.call(this, id);\n  // extend the agent with support for requests\n  this.extend('request');\n  // alternatively, the request module can be loaded in a separate namespace\n  // instead of extending the agent itself:\n  //   this.request = this.loadModule('request');\n  //   this.request.request(...)\n  this.count = 0\n\n  // connect to all transports configured by the system\n  this.connect(eve.system.transports.getAll());\n}\n\n// extend the eve.Agent prototype\nHelloAgent.prototype = Object.create(eve.Agent.prototype);\nHelloAgent.prototype.constructor = HelloAgent;\n\nHelloAgent.prototype.sayHello = function(to) {\n  this.send(to, 'Hello ' + to + '!');\n};\n\nHelloAgent.prototype.receive = function(from, message) {\n  console.log(from + ' said: ' + JSON.stringify(message));\n  // document.write(from + ' said: ' + JSON.stringify(message) + '<br>');\n\n  if (typeof message == \"string\" && message.indexOf('Hello') === 0) {\n    // reply to the greeting\n    this.send(from, 'Hi ' + from + ', nice to meet you!');\n    // return value is send back as reply in case of a request\n    return 'Hi ' + from + ', Here is the answer of your request!';\n  }\n  // else{\n  //   if(this.count <10)\n  //   {\n  //     this.count ++\n  //     this.send(from, 'Hi ' + from + 'my count is '+this.count );\n  //   }\n  // }\n};\n","<template>\n  <b-card>\n    <b-card-title>{{item['ve:name']}}</b-card-title>\n    <b-button size=\"sm\" variant=\"danger\" @click=\"$emit('delete',item)\">Delete</b-button>\n    <b-button size=\"sm\" @click=\"$emit('edit',item)\">Edit</b-button>\n    <!-- <a :href=\"'https://scenaristeur.github.io/verse?source='+item['ve:url']\" target=\"_blank\">\n    <b-button size=\"sm\" variant=\"outline-primary\">\n    <b-icon icon=\"share-fill\" aria-label=\"Share\"></b-icon>\n  </b-button>\n</a> -->\n{{item['ve:age']}}\n<!-- <b-card-header>\n  <b>What is :       </b> {{item['ve:wi']}}\n  <hr>\n  <b>What should be: </b>{{item['ve:wsb']}}\n</b-card-header> -->\n\n\n<!-- <b-card-text>\n  <div v-html=\"item['ve:proposition']\">\n  </div>\n</b-card-text> -->\n\n<b-card-footer>\n  <span v-if=\"item['ve:url'] != undefined\">remote</span><span v-else><b-button @click=\"putOnline\">local</b-button></span>\n  <!-- [[dendrites- watch]]{{node.modele}}[[axione - send]] -->\n</b-card-footer>\n<Properties :item=\"item\" />\n</b-card>\n</template>\n\n<!-- title=\"Card Title\"\nimg-src=\"https://picsum.photos/600/300/?image=25\"\nimg-alt=\"Image\"\nimg-top\ntag=\"article\"\nstyle=\"max-width: 20rem;\"\nclass=\"mb-2\" -->\n<script>\n\nimport { PodAgent } from '@/agents/PodAgent.js';\n\nimport { HelloAgent } from '@/agents/HelloAgent.js';\n\n\nexport default {\n  name: \"Item\",\n  props: ['item'],\n  components: {\n    'Properties': () => import('@/components/items/Properties'),\n  },\n  created(){\n    // this.agentItem = new HelloAgent('agentItem');\n    //  this.podAgent1 = new PodAgent('podAgent1');\n    this.agent3 = new HelloAgent('agent3');\n    this.agent4 = new HelloAgent();\n    this.podAgent1 = new PodAgent();\n    console.log(\"PODAGENT\",this.podAgent1)\n  },\n  methods:{\n    putOnline(){\n      console.log(this.item)\n      let app = this\n      //  console.log(this.agentItem, this.podAgent1)\n      try{\n        //  this.agentItem.send('subscribe1', \"hello\")\n\n        // send a message to agent1\n        //this.agent4.send('agent3', 'Hello agent3!, a basic send')\n        let message = {\n          action: \"create\",\n          content : JSON.stringify(this.item, null, 2),\n          file: {type: 'application/ld+json'},\n          url: 'https://agora.solidcommunity.net/public/blackboard/'+this.item.id\n\n\n        }\n        this.agent4.request(this.podAgent1.id, message)\n        // this.agent4.request('agent3', 'Hello agent1! a request')\n        .then(function(reply) {\n          console.log('reply: ', reply);\n          try{\n          console.log(reply.internal_resourceInfo.sourceIri)\n          app.item['ve:url'] = reply.internal_resourceInfo.sourceIri\n        }catch(e){\n          console.log(e)\n        }\n        });\n      }catch(e){\n        console.log(\"e\",e)\n      }\n      // this.agentItem.request('subscribe1', this.item).then(function(reply) {\n      //   console.log('reply from pod: ' + reply);\n      // });\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Item.vue?vue&type=template&id=1ff11e80&\"\nimport script from \"./Item.vue?vue&type=script&lang=js&\"\nexport * from \"./Item.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}