(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c5abb"],{"3fa3":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h3",[e._v("Tension")]),e._m(0),i("b-card",[e.cardActive?i("b-form-input",{attrs:{placeholder:"Name"},model:{value:e.item["ve:name"],callback:function(t){e.$set(e.item,"ve:name",t)},expression:"item['ve:name']"}}):e._e(),i("b-form-input",{ref:"title",attrs:{placeholder:e.text_placeholder},on:{click:function(t){e.inputFocus=!0},blur:function(t){e.inputFocus=!1}},model:{value:e.item["ve:wi"],callback:function(t){e.$set(e.item,"ve:wi",t)},expression:"item['ve:wi']"}}),e.cardActive?i("b-form-input",{attrs:{placeholder:"What should be ?"},model:{value:e.item["ve:wsb"],callback:function(t){e.$set(e.item,"ve:wsb",t)},expression:"item['ve:wsb']"}}):e._e(),e.cardActive?i("b-form-textarea",{attrs:{id:"textarea",placeholder:"Your proposition...",rows:"3","max-rows":"6"},model:{value:e.item["ve:proposition"],callback:function(t){e.$set(e.item,"ve:proposition",t)},expression:"item['ve:proposition']"}}):e._e(),e.cardActive?i("vue-tags-input",{attrs:{tags:e.tags,"autocomplete-items":e.autocompleteTagsItems},on:{"tags-changed":e.update},model:{value:e.tag,callback:function(t){e.tag=t},expression:"tag"}}):e._e(),e.cardActive?i("div",[e._v(" Priority / Age / Status "),i("b-form-input",{attrs:{type:"number"},model:{value:e.item["ve:age"],callback:function(t){e.$set(e.item,"ve:age",t)},expression:"item['ve:age']"}})],1):e._e(),e.cardActive?i("b-button",{attrs:{size:"sm",variant:"light"},on:{click:e.clean}},[e._v("Cancel")]):e._e(),e.cardActive?i("b-button",{attrs:{variant:"info"},on:{click:e.add}},[e._v("Save")]):e._e()],1),e._v(" "+e._s(e.items.length)+" "),i("b-row",[i("Items",{attrs:{items:e.items}})],1)],1)},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[e._v(" Dans un système basique, chacun doit pouvoir faire remonter ses idées, ou ses problèmes de manière simple. "),i("br"),e._v(" La solution envisagée ici est inspirée du système de Tension en holacratie. "),i("br"),i("ul",[i("li",[e._v("Un titre")]),i("li",[e._v("Un description de ce qui est à l'heure actuelle.")]),i("li",[e._v("Une description de ce qui devrait être.")]),i("li",[e._v("Une proposition pour passer de ce qui est à ce qui devrait être.")])])])}],a=i("1da1"),o=(i("96cf"),i("d3b7"),i("3ca3"),i("ddb0"),i("ac1f"),i("1276"),i("841c"),i("d81d"),i("466d"),i("a4d3"),i("e01a"),i("c46f")),r="https://www.wikidata.org/w/api.php?action=wbsearchentities&origin=*&format=json",c={name:"Tension",components:{VueTagsInput:function(){return i.e("chunk-2d217c19").then(i.t.bind(null,"c7a0",7))},Items:function(){return i.e("chunk-ccb0e492").then(i.bind(null,"9426"))}},data:function(){return{tag:"",tags:[],autocompleteTagsItems:[],debounce:null,item:null,inputFocus:!1,cardActive:!1,text_placeholder:"What should be different ?",share:!0,checked1:!0}},created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.init(),e.language=navigator.language.split("-")[0]||"en",e.initForm(e.$route.query);case 3:case"end":return t.stop()}}),t)})))()},methods:{init:function(){this.item=this.$store.state.local.currentItem||{"@context":{"@vocab":"https://www.w3.org/ns/activitystreams",ve:"https://scenaristeur.github.io/verse/","@id":"id","@type":"type"},"ve:name":"","ve:wi":"","ve:wsb":"","ve:proposition":"","ve:tags":"","ve:age":0,"ve:privacy":"private","ve:type":"item","ve:properties":[],test:"test vocab"}},add:function(){var e=this.item;e.share=this.share,e.type="tension",this.$store.dispatch("local/saveItem",e),this.clean(),this.$store.dispatch("local/getItems",{type:"tension"})},clean:function(){this.init(),this.cardActive=!1,this.text_placeholder="Signal a tension",this.tags=[]},initForm:function(e){if(console.log("init",e),void 0!=e.title||void 0!=e.wi||void 0!=e.wsb||void 0!=e.proposition){var t={"ve:name":e.title||"","ve:wi":e.wi||"","ve:wsb":e.wsb||"","ve:proposition":e.proposition||"","ve:age":e.age||""};this.tags=void 0!=e.tags?JSON.parse(e.tags):"",this.cardActive=!0,this.item=t,console.log("item init",this.item),void 0==this.topic&&(this.topic="default")}},update:function(e){this.autocompleteTagsItems=[],this.tags=e},getTags:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var n,s,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!(e.length>0)){i.next=21;break}return t.loading=!0,n=r+"&language="+t.language+"&search="+e,console.log(n),i.prev=4,i.next=7,fetch(n);case 7:return s=i.sent,i.next=10,s.json();case 10:a=i.sent,console.log(a),t.tags_items=a.search,console.log(t.tags_items),t.autocompleteTagsItems=a.search.map((function(e){return{text:e.match.text+" ("+e.description+")",url:e.concepturi}})),i.next=20;break;case 17:i.prev=17,i.t0=i["catch"](4),alert(i.t0);case 20:t.loading=!1;case 21:case"end":return i.stop()}}),i,null,[[4,17]])})))()}},watch:{tag:o["a"].debounce((function(e){this.getTags(e)}),500),tags:function(){console.log(this.tags),this.item["ve:tags"]=this.tags},$route:function(e){this.initForm(e.query)},inputFocus:function(){1==this.inputFocus&&(this.cardActive=!0,this.text_placeholder="What is ?",this.$refs.title.focus())},currentNote:function(){this.tension=this.currentTension,this.tags=this.currentTension.tags,this.cardActive=!0,this.$refs.title.focus()}},computed:{pod:function(){return this.$store.state.solid.pod},items:{get:function(){return this.$store.state.local.items},set:function(){}}}},u=c,l=i("2877"),p=Object(l["a"])(u,n,s,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0c5abb.46c78654.js.map